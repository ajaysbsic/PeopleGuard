2026-01-27 09:37:41.977 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.032 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.034 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.046 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.052 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:37:42.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:37:42.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:37:42.091 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:37:42.133 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:37:42.163 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5226: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2026-01-27 09:38:13.566 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.620 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.629 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.631 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.634 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:38:13.644 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:38:13.681 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:38:13.686 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:38:13.739 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:38:13.767 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:38:13.769 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:38:13.769 +03:00 [INF] Hosting environment: Development
2026-01-27 09:38:13.770 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:38:13.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 09:38:13.813 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 09:38:13.830 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:38:13.830 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:38:13.879 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-27 09:38:13.879 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-27 09:38:13.882 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-27 09:38:13.882 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-27 09:38:13.883 +03:00 [INF] HTTP GET /api/Employees responded 401 in 54.4263 ms
2026-01-27 09:38:13.883 +03:00 [INF] HTTP GET /api/Investigations responded 401 in 54.1055 ms
2026-01-27 09:38:13.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 401 0 null 73.0134ms
2026-01-27 09:38:13.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 401 0 null 74.4278ms
2026-01-27 09:38:34.260 +03:00 [INF] Application is shutting down...
2026-01-27 09:39:01.153 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.209 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:39:01.235 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:39:01.265 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:39:01.268 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:39:01.309 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:39:01.338 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:39:01.339 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:39:01.340 +03:00 [INF] Hosting environment: Development
2026-01-27 09:39:01.341 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:40:44.256 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.307 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.313 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:40:44.339 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:40:44.372 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:40:44.376 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:40:44.417 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:40:44.445 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:40:44.446 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:40:44.447 +03:00 [INF] Hosting environment: Development
2026-01-27 09:40:44.448 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:41:51.771 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 09:41:51.794 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:41:51.797 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 4.3090 ms
2026-01-27 09:41:51.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 33.5774ms
2026-01-27 09:41:51.811 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 09:41:51.815 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:41:51.880 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:41:51.889 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 09:41:51.946 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:41:52.008 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 09:41:52.045 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 150.9507ms
2026-01-27 09:41:52.050 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:41:52.053 +03:00 [ERR] Error in audit logging middleware
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at EmployeeInvestigationSystem.Infrastructure.Services.JwtTokenGenerator.Generate(ApplicationUser user, IList`1 roles, DateTime expiresAtUtc) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\JwtTokenGenerator.cs:line 49
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 44
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 09:41:52.075 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 259.6140 ms
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at EmployeeInvestigationSystem.Infrastructure.Services.JwtTokenGenerator.Generate(ApplicationUser user, IList`1 roles, DateTime expiresAtUtc) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\JwtTokenGenerator.cs:line 49
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 44
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 09:41:52.085 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at EmployeeInvestigationSystem.Infrastructure.Services.JwtTokenGenerator.Generate(ApplicationUser user, IList`1 roles, DateTime expiresAtUtc) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\JwtTokenGenerator.cs:line 49
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 44
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:41:52.096 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:41:52.102 +03:00 [ERR] Connection id "0HNITDSJMTVQT", Request id "0HNITDSJMTVQT:00000002": An unhandled exception was thrown by the application.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at EmployeeInvestigationSystem.Infrastructure.Services.JwtTokenGenerator.Generate(ApplicationUser user, IList`1 roles, DateTime expiresAtUtc) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\JwtTokenGenerator.cs:line 49
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 44
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 09:41:52.113 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 301.7991ms
2026-01-27 09:42:55.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/index.html - null null
2026-01-27 09:42:55.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/index.html - 200 null text/html;charset=utf-8 30.7832ms
2026-01-27 09:42:55.714 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - null null
2026-01-27 09:42:55.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.4945ms
2026-01-27 09:45:21.612 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.669 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.671 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.674 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:45:21.689 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:45:21.719 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:45:21.721 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:45:21.762 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:45:21.813 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:45:21.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:45:21.815 +03:00 [INF] Hosting environment: Development
2026-01-27 09:45:21.815 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:46:07.760 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 09:46:07.779 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:46:07.781 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.1332 ms
2026-01-27 09:46:07.786 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 25.81ms
2026-01-27 09:46:07.790 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 09:46:07.792 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:46:07.860 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:46:07.870 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 09:46:07.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:46:08.011 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 136.1791ms
2026-01-27 09:46:08.012 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:46:08.013 +03:00 [ERR] Error in audit logging middleware
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 09:46:08.021 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 228.7797 ms
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 09:46:08.026 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:46:08.033 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:46:08.039 +03:00 [ERR] Connection id "0HNITDV008FIB", Request id "0HNITDV008FIB:00000002": An unhandled exception was thrown by the application.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 09:46:08.046 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 255.491ms
2026-01-27 09:47:26.560 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 09:47:26.565 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:47:26.567 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.5808 ms
2026-01-27 09:47:26.570 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 9.2469ms
2026-01-27 09:47:26.573 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 09:47:26.575 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:47:26.577 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:47:26.578 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 09:47:26.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:47:26.632 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 53.1967ms
2026-01-27 09:47:26.634 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:47:26.635 +03:00 [ERR] Error in audit logging middleware
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 09:47:26.639 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 63.6664 ms
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 09:47:26.642 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:47:26.646 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:47:26.647 +03:00 [ERR] Connection id "0HNITDV008FIB", Request id "0HNITDV008FIB:00000004": An unhandled exception was thrown by the application.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 09:47:26.656 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 82.7929ms
2026-01-27 09:49:15.343 +03:00 [INF] Application is shutting down...
2026-01-27 09:52:58.313 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.375 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.376 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:52:58.386 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:52:58.415 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:52:58.418 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:52:58.461 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:52:58.492 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:52:58.492 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:52:58.493 +03:00 [INF] Hosting environment: Development
2026-01-27 09:52:58.493 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:53:38.524 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 09:53:38.544 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:53:38.546 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.7070 ms
2026-01-27 09:53:38.551 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 27.165ms
2026-01-27 09:53:38.555 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 09:53:38.557 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:53:38.621 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:53:38.637 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 09:53:38.718 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:53:38.759 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 117.2619ms
2026-01-27 09:53:38.761 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:53:38.762 +03:00 [ERR] Error in audit logging middleware
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 09:53:38.769 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 211.2880 ms
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 09:53:38.774 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:53:38.781 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 09:53:38.785 +03:00 [ERR] Connection id "0HNITE36B22U3", Request id "0HNITE36B22U3:00000002": An unhandled exception was thrown by the application.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method169(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 09:53:38.793 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 238.3804ms
2026-01-27 09:55:57.565 +03:00 [INF] Application is shutting down...
2026-01-27 09:59:29.207 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.268 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.270 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 09:59:29.283 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:59:29.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-27 09:59:29.334 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:59:29.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 09:59:29.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-27 09:59:29.436 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2026-01-27 09:59:29.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-27 09:59:29.447 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-27 09:59:29.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:59:29.470 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2026-01-27 09:59:29.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 09:59:29.492 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 09:59:29.534 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 09:59:29.583 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 09:59:29.583 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 09:59:29.584 +03:00 [INF] Hosting environment: Development
2026-01-27 09:59:29.584 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 09:59:53.760 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 09:59:53.783 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:59:53.785 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 3.0524 ms
2026-01-27 09:59:53.789 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 30.7139ms
2026-01-27 09:59:53.792 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 09:59:53.796 +03:00 [INF] CORS policy execution successful.
2026-01-27 09:59:53.855 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:59:53.869 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 09:59:53.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 09:59:53.998 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 09:59:54.014 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 09:59:54.023 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 151.1782ms
2026-01-27 09:59:54.025 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 09:59:54.026 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 230.5975 ms
2026-01-27 09:59:54.030 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 237.4956ms
2026-01-27 10:02:03.952 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:02:03.959 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:03.961 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.4833 ms
2026-01-27 10:02:03.964 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 11.7092ms
2026-01-27 10:02:03.969 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:02:03.970 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:03.974 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:03.975 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:02:03.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:02:04.033 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 57.1257ms
2026-01-27 10:02:04.034 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:04.035 +03:00 [ERR] Error in audit logging middleware
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 10:02:04.042 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 72.0460 ms
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 10:02:04.046 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 10:02:04.057 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 10:02:04.061 +03:00 [ERR] Connection id "0HNITE6M5I86I", Request id "0HNITE6M5I86I:00000004": An unhandled exception was thrown by the application.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 10:02:04.066 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 97.1898ms
2026-01-27 10:02:21.621 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:02:21.625 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:21.626 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 0.5663 ms
2026-01-27 10:02:21.627 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 5.3722ms
2026-01-27 10:02:21.629 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 57
2026-01-27 10:02:21.630 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:21.634 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:21.634 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:02:21.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:02:21.684 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 47.9974ms
2026-01-27 10:02:21.685 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:21.686 +03:00 [ERR] Error in audit logging middleware
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
2026-01-27 10:02:21.690 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 59.1680 ms
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-27 10:02:21.695 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 10:02:21.699 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 10:02:21.701 +03:00 [ERR] Connection id "0HNITE6M5I86I", Request id "0HNITE6M5I86I:00000006": An unhandled exception was thrown by the application.
System.UnauthorizedAccessException: Invalid credentials.
   at EmployeeInvestigationSystem.Infrastructure.Services.AuthService.LoginAsync(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Services\AuthService.cs:line 39
   at EmployeeInvestigationSystem.API.Controllers.AuthController.Login(LoginRequestDto request, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\AuthController.cs:line 23
   at lambda_method280(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 51
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 71
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2026-01-27 10:02:21.705 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 500 0 null 76.1071ms
2026-01-27 10:02:41.166 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:02:41.173 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:41.175 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.0942 ms
2026-01-27 10:02:41.178 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 11.6803ms
2026-01-27 10:02:41.181 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:02:41.183 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:02:41.184 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:41.185 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:02:41.188 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:02:41.234 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:02:41.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:02:41.237 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 51.5932ms
2026-01-27 10:02:41.238 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:02:41.239 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 55.4825 ms
2026-01-27 10:02:41.240 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 58.9912ms
2026-01-27 10:04:29.221 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:04:29.225 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:04:29.226 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 0.6559 ms
2026-01-27 10:04:29.228 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 6.7127ms
2026-01-27 10:04:29.231 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:04:29.232 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:04:29.233 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:04:29.234 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:04:29.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:04:29.280 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:04:29.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:04:29.283 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 48.1456ms
2026-01-27 10:04:29.284 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:04:29.285 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 53.2392 ms
2026-01-27 10:04:29.289 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 58.4486ms
2026-01-27 10:06:05.707 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.762 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.763 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.764 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:06:05.775 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:06:05.804 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:06:05.807 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:06:05.852 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:06:05.897 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:06:05.899 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:06:05.899 +03:00 [INF] Hosting environment: Development
2026-01-27 10:06:05.899 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:06:27.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/index.html - null null
2026-01-27 10:06:27.411 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/index.html - 200 null text/html;charset=utf-8 55.878ms
2026-01-27 10:06:27.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - null null
2026-01-27 10:06:27.615 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.4135ms
2026-01-27 10:06:54.517 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:06:54.527 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:06:54.529 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.9689 ms
2026-01-27 10:06:54.530 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 12.8202ms
2026-01-27 10:06:54.532 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:06:54.535 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:06:54.584 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:06:54.593 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:06:54.660 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:06:54.790 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:06:54.814 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:06:54.828 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 230.3138ms
2026-01-27 10:06:54.830 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:06:54.832 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 297.8814 ms
2026-01-27 10:06:54.838 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 305.6096ms
2026-01-27 10:07:05.435 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:07:05.438 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:07:05.438 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.0248 ms
2026-01-27 10:07:05.439 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 4.022ms
2026-01-27 10:07:05.441 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:07:05.442 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:07:05.444 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:07:05.445 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:07:05.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:07:05.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:07:05.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:07:05.513 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 66.5737ms
2026-01-27 10:07:05.513 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:07:05.514 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 71.4676 ms
2026-01-27 10:07:05.515 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 73.7484ms
2026-01-27 10:08:33.310 +03:00 [INF] Application is shutting down...
2026-01-27 10:08:54.229 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.284 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.286 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:08:54.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:08:54.326 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:08:54.329 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:08:54.370 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:08:54.398 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:08:54.399 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:08:54.400 +03:00 [INF] Hosting environment: Development
2026-01-27 10:08:54.401 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:09:41.906 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:09:41.938 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:09:41.942 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 5.5753 ms
2026-01-27 10:09:41.949 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 43.5427ms
2026-01-27 10:09:41.954 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:09:41.958 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:09:42.011 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:09:42.019 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:09:42.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:09:42.154 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:09:42.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:09:42.189 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 166.832ms
2026-01-27 10:09:42.190 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:09:42.191 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 233.5652 ms
2026-01-27 10:09:42.195 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 240.6975ms
2026-01-27 10:10:11.664 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.715 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.717 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.719 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.721 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:10:11.730 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:10:11.761 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:10:11.764 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:10:11.806 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:10:11.836 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:10:11.837 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:10:11.837 +03:00 [INF] Hosting environment: Development
2026-01-27 10:10:11.837 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:10:41.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:10:41.829 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:10:41.832 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.6447 ms
2026-01-27 10:10:41.836 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 24.5301ms
2026-01-27 10:10:41.839 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:10:41.842 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:10:41.899 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:10:41.908 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:10:41.991 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:10:42.062 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:10:42.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:10:42.084 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 173.088ms
2026-01-27 10:10:42.086 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:10:42.088 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 246.1631 ms
2026-01-27 10:10:42.091 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 0 application/json; charset=utf-8 251.9895ms
2026-01-27 10:12:44.714 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.770 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.771 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.772 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:12:44.783 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:12:44.812 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:12:44.814 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:12:44.855 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:12:44.884 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:12:44.884 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:12:44.885 +03:00 [INF] Hosting environment: Development
2026-01-27 10:12:44.885 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:12:59.837 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:12:59.867 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:12:59.871 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 4.4663 ms
2026-01-27 10:12:59.876 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 40.0074ms
2026-01-27 10:12:59.879 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:12:59.883 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:12:59.945 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:12:59.957 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:00.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:13:00.105 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:13:00.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:13:00.130 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 171.061ms
2026-01-27 10:13:00.131 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:00.133 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 250.6829 ms
2026-01-27 10:13:00.138 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 258.1433ms
2026-01-27 10:13:00.170 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:00.175 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:00.176 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.9807 ms
2026-01-27 10:13:00.177 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.7529ms
2026-01-27 10:13:00.185 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:00.191 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:00.233 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:00.240 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:00.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:00.294 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:13:00.302 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:13:00.309 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:00.323 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:13:00.354 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:00.364 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:00.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:00.387 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:00.412 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:13:00.433 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:13:00.463 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:13:00.465 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:13:00.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:13:00.474 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 231.5705ms
2026-01-27 10:13:00.476 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:00.477 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 285.7058 ms
2026-01-27 10:13:00.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 293.6031ms
2026-01-27 10:13:25.625 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 10:13:25.628 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:25.628 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.6672 ms
2026-01-27 10:13:25.630 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 5.2269ms
2026-01-27 10:13:25.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:13:25.636 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:25.642 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:25.646 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:25.655 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:25.688 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:25.697 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 50.2262ms
2026-01-27 10:13:25.698 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:25.699 +03:00 [INF] HTTP GET /api/Employees responded 200 in 63.5546 ms
2026-01-27 10:13:25.700 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 67.332ms
2026-01-27 10:13:28.967 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:13:28.971 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:28.971 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.7954 ms
2026-01-27 10:13:28.975 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.1162ms
2026-01-27 10:13:28.977 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:13:28.979 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:28.982 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:28.985 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:29.008 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:29.012 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:29.022 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 35.7283ms
2026-01-27 10:13:29.023 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:29.024 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 44.7995 ms
2026-01-27 10:13:29.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 48.2032ms
2026-01-27 10:13:37.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:37.331 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:37.332 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6884 ms
2026-01-27 10:13:37.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.7631ms
2026-01-27 10:13:37.340 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:37.343 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:37.344 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:37.347 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:37.352 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:37.360 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:13:37.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:13:37.370 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:37.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:13:37.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:37.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:37.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:37.382 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:37.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:13:37.387 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:13:37.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:13:37.391 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:13:37.392 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:13:37.393 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 44.0716ms
2026-01-27 10:13:37.394 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:37.395 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 51.7446 ms
2026-01-27 10:13:37.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 56.4284ms
2026-01-27 10:13:42.275 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 10:13:42.280 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:42.280 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.7182 ms
2026-01-27 10:13:42.282 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 6.3051ms
2026-01-27 10:13:42.284 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:13:42.286 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:42.287 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:42.288 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:42.291 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:42.293 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:42.294 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.8143ms
2026-01-27 10:13:42.295 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:42.296 +03:00 [INF] HTTP GET /api/Employees responded 200 in 9.5999 ms
2026-01-27 10:13:42.297 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 12.9695ms
2026-01-27 10:13:42.934 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:42.938 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:42.939 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.9958 ms
2026-01-27 10:13:42.941 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 7.4263ms
2026-01-27 10:13:42.944 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:42.946 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:42.947 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:42.947 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:42.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:42.954 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:13:42.956 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:13:42.957 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:42.959 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:13:42.960 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:42.962 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:42.963 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:42.964 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:42.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:13:42.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:13:42.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:13:42.971 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:13:42.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:13:42.972 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 23.8457ms
2026-01-27 10:13:42.973 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:42.974 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 28.1589 ms
2026-01-27 10:13:42.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 30.4418ms
2026-01-27 10:13:43.578 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:13:43.584 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:43.586 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.8273 ms
2026-01-27 10:13:43.590 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 11.29ms
2026-01-27 10:13:43.594 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:13:43.596 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:43.597 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:43.598 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:43.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:43.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:43.604 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.5638ms
2026-01-27 10:13:43.605 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:43.606 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 10.3687 ms
2026-01-27 10:13:43.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 13.7113ms
2026-01-27 10:13:44.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:44.311 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:44.314 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:44.315 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:44.318 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:44.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:13:44.322 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:13:44.324 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:44.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:13:44.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:44.328 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:44.331 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:44.332 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:44.333 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:13:44.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:13:44.338 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:13:44.339 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:13:44.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:13:44.340 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 23.4138ms
2026-01-27 10:13:44.341 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:44.341 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 30.6265 ms
2026-01-27 10:13:44.342 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 37.0914ms
2026-01-27 10:13:44.981 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:13:44.984 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:44.986 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:44.988 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:44.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:44.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:44.994 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.7136ms
2026-01-27 10:13:44.995 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:44.996 +03:00 [INF] HTTP GET /api/Employees responded 200 in 12.2056 ms
2026-01-27 10:13:44.998 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 16.4911ms
2026-01-27 10:13:48.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:13:48.093 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:48.097 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:48.100 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:48.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:48.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:48.108 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 6.5546ms
2026-01-27 10:13:48.109 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:48.109 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 16.4532 ms
2026-01-27 10:13:48.111 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 25.0098ms
2026-01-27 10:13:49.790 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 10:13:49.793 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:49.794 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.5646 ms
2026-01-27 10:13:49.795 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 5.5036ms
2026-01-27 10:13:49.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:13:49.803 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:49.804 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:49.805 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:49.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:49.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:13:49.811 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.3156ms
2026-01-27 10:13:49.811 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:49.812 +03:00 [INF] HTTP GET /api/Employees responded 200 in 9.4715 ms
2026-01-27 10:13:49.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 12.1957ms
2026-01-27 10:13:50.227 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:50.231 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:50.232 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.3388 ms
2026-01-27 10:13:50.235 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.0588ms
2026-01-27 10:13:50.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:13:50.238 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:13:50.240 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:50.241 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:13:50.243 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:50.245 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:13:50.247 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:13:50.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:13:50.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:13:50.251 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:50.253 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:50.255 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:50.256 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:13:50.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:13:50.260 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:13:50.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:13:50.263 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:13:50.263 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:13:50.264 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 21.9962ms
2026-01-27 10:13:50.265 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:13:50.266 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 27.3529 ms
2026-01-27 10:13:50.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 29.9167ms
2026-01-27 10:14:10.951 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 10:14:10.955 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:10.956 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.3845 ms
2026-01-27 10:14:10.959 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 7.7709ms
2026-01-27 10:14:10.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:14:10.965 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:10.966 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:10.967 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:14:10.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:14:10.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:14:10.972 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.1457ms
2026-01-27 10:14:10.973 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:10.974 +03:00 [INF] HTTP GET /api/Employees responded 200 in 9.1449 ms
2026-01-27 10:14:10.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 13.3505ms
2026-01-27 10:14:11.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:14:11.861 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:11.862 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.0617 ms
2026-01-27 10:14:11.865 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 7.8574ms
2026-01-27 10:14:11.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:14:11.871 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:11.872 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:11.873 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:14:11.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:14:11.878 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:14:11.879 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:14:11.881 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:14:11.885 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:14:11.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:14:11.890 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:14:11.893 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:14:11.896 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:14:11.898 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:14:11.900 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:14:11.902 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:14:11.903 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:14:11.903 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:14:11.904 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 29.1831ms
2026-01-27 10:14:11.904 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:11.905 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 34.3298 ms
2026-01-27 10:14:11.906 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 37.5386ms
2026-01-27 10:14:12.517 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:14:12.519 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:12.521 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:12.522 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:14:12.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:14:12.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:14:12.528 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.2033ms
2026-01-27 10:14:12.529 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:12.530 +03:00 [INF] HTTP GET /api/Employees responded 200 in 10.6445 ms
2026-01-27 10:14:12.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 13.9641ms
2026-01-27 10:14:12.949 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:14:12.953 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:12.954 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.0749 ms
2026-01-27 10:14:12.957 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.4127ms
2026-01-27 10:14:12.959 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:14:12.961 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:14:12.962 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:12.964 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:14:12.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:14:12.970 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:14:12.971 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.3554ms
2026-01-27 10:14:12.972 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:14:12.972 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 11.7054 ms
2026-01-27 10:14:12.973 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 14.1258ms
2026-01-27 10:20:19.839 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.908 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.913 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.917 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.923 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.929 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:20:19.978 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2026-01-27 10:20:19.990 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:20:20.013 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:20:20.060 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-27 10:20:20.064 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:20:20.076 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 10:20:20.082 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-27 10:20:20.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2026-01-27 10:20:20.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-27 10:20:20.113 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-27 10:20:20.115 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:20:20.132 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2026-01-27 10:20:20.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:20:20.150 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:20:20.200 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:20:20.257 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:20:20.258 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:20:20.259 +03:00 [INF] Hosting environment: Development
2026-01-27 10:20:20.259 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:44:09.227 +03:00 [INF] Application is shutting down...
2026-01-27 10:51:35.383 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.453 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.462 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.464 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.467 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:35.481 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:51:35.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:51:35.518 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:51:35.521 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:51:35.568 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:51:35.597 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:51:35.598 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:51:35.599 +03:00 [INF] Hosting environment: Development
2026-01-27 10:51:35.599 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:51:50.986 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.042 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.045 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.049 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.053 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 10:51:51.063 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:51:51.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:51:51.098 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 10:51:51.101 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 10:51:51.145 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 10:51:51.173 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 10:51:51.174 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 10:51:51.175 +03:00 [INF] Hosting environment: Development
2026-01-27 10:51:51.175 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 10:51:57.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/index.html - null null
2026-01-27 10:51:57.224 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/index.html - 200 null text/html;charset=utf-8 50.4242ms
2026-01-27 10:51:57.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - null null
2026-01-27 10:51:57.373 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.0009ms
2026-01-27 10:52:56.020 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:52:56.026 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:52:56.029 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 3.4067 ms
2026-01-27 10:52:56.031 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 11.1051ms
2026-01-27 10:52:56.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:52:56.039 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:52:56.130 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:52:56.138 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:52:56.199 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:52:56.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:52:56.212 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:52:56.216 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:52:56.228 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:52:56.266 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:52:56.278 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:52:56.286 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:52:56.296 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:52:56.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:52:56.333 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:52:56.347 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:52:56.349 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:52:56.353 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:52:56.366 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 224.1456ms
2026-01-27 10:52:56.367 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:52:56.369 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 330.4202 ms
2026-01-27 10:52:56.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 337.3999ms
2026-01-27 10:53:23.987 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:53:23.991 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:53:23.993 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 2.5544 ms
2026-01-27 10:53:23.995 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.2368ms
2026-01-27 10:53:23.998 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:53:24.000 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:53:24.004 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:53:24.014 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:53:24.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:53:24.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:53:24.056 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 40.5565ms
2026-01-27 10:53:24.057 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:53:24.058 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 58.0059 ms
2026-01-27 10:53:24.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 61.4537ms
2026-01-27 10:54:17.087 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:54:17.092 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:54:17.092 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6659 ms
2026-01-27 10:54:17.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.537ms
2026-01-27 10:54:17.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:54:17.099 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:54:17.103 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:54:17.104 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:54:17.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:54:17.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:54:17.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:54:17.114 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:54:17.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:54:17.119 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:17.121 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:17.123 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:17.124 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:17.126 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:54:17.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:54:17.131 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:54:17.132 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:54:17.133 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:54:17.134 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 27.8945ms
2026-01-27 10:54:17.134 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:54:17.135 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 36.5692 ms
2026-01-27 10:54:17.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 39.3734ms
2026-01-27 10:54:25.544 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:54:25.546 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:54:25.547 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.7010 ms
2026-01-27 10:54:25.548 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.5051ms
2026-01-27 10:54:25.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:54:25.563 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:54:25.565 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:54:25.566 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:54:25.570 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:54:25.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:54:25.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:54:25.578 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:54:25.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:54:25.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:25.585 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:25.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:25.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:54:25.593 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:54:25.596 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:54:25.599 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:54:25.600 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:54:25.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:54:25.602 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 34.5247ms
2026-01-27 10:54:25.603 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:54:25.603 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 40.3856 ms
2026-01-27 10:54:25.605 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 45.7404ms
2026-01-27 10:55:32.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:55:32.168 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:32.168 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 0.4279 ms
2026-01-27 10:55:32.171 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 4.5911ms
2026-01-27 10:55:32.177 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:55:32.180 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:32.182 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:32.186 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:55:32.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:55:32.284 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:55:32.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:55:32.295 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 108.4056ms
2026-01-27 10:55:32.297 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:32.298 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 117.4767 ms
2026-01-27 10:55:32.299 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 121.8219ms
2026-01-27 10:55:32.331 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:55:32.333 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:32.334 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.1964 ms
2026-01-27 10:55:32.335 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.7426ms
2026-01-27 10:55:32.339 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:55:32.341 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:32.343 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:32.344 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:55:32.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:55:32.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:55:32.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:55:32.356 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:55:32.359 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:55:32.363 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:55:32.366 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:55:32.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:55:32.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:55:32.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:55:32.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:55:32.387 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:55:32.389 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:55:32.390 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:55:32.391 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 46.3514ms
2026-01-27 10:55:32.392 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:32.393 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 52.2754 ms
2026-01-27 10:55:32.395 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 56.1767ms
2026-01-27 10:55:37.194 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:55:37.199 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:37.201 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 2.0775 ms
2026-01-27 10:55:37.204 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 10.1045ms
2026-01-27 10:55:37.206 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:55:37.208 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:55:37.209 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:37.210 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:55:37.212 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:55:37.215 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:55:37.217 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 6.2406ms
2026-01-27 10:55:37.218 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:55:37.218 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 10.5364 ms
2026-01-27 10:55:37.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 13.7382ms
2026-01-27 10:56:22.058 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:56:22.064 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:56:22.065 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.1105 ms
2026-01-27 10:56:22.067 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.7641ms
2026-01-27 10:56:22.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:56:22.071 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:56:22.073 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:56:22.074 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:56:22.078 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:56:22.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:56:22.083 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 7.2988ms
2026-01-27 10:56:22.084 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:56:22.086 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 14.4421 ms
2026-01-27 10:56:22.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 18.5292ms
2026-01-27 10:56:35.767 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:56:35.771 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:56:35.772 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.4953 ms
2026-01-27 10:56:35.777 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.8286ms
2026-01-27 10:56:35.782 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:56:35.784 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:56:35.785 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:56:35.786 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:56:35.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:56:35.791 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:56:35.793 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:56:35.795 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:56:35.797 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:56:35.799 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:56:35.800 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:56:35.802 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:56:35.803 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:56:35.805 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:56:35.806 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:56:35.808 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:56:35.809 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:56:35.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:56:35.811 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 23.1522ms
2026-01-27 10:56:35.812 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:56:35.812 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 28.3576 ms
2026-01-27 10:56:35.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 31.3584ms
2026-01-27 10:58:08.281 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:58:08.282 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:08.283 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6078 ms
2026-01-27 10:58:08.284 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 3.6497ms
2026-01-27 10:58:08.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:58:08.289 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:08.290 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:08.291 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:58:08.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:58:08.297 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:58:08.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:58:08.300 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:58:08.302 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:58:08.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:08.306 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:08.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:08.309 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:08.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:58:08.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:58:08.315 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:58:08.316 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:58:08.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:58:08.317 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 24.6923ms
2026-01-27 10:58:08.318 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:08.318 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 29.4875 ms
2026-01-27 10:58:08.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 31.9131ms
2026-01-27 10:58:49.863 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 10:58:49.866 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:49.868 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.0447 ms
2026-01-27 10:58:49.870 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 6.2896ms
2026-01-27 10:58:49.873 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 10:58:49.874 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:49.875 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:49.876 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 10:58:49.879 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 10:58:49.934 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 10:58:49.935 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 10:58:49.936 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 59.3168ms
2026-01-27 10:58:49.937 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:49.938 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 63.3047 ms
2026-01-27 10:58:49.939 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 65.7963ms
2026-01-27 10:58:49.951 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:58:49.953 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:49.953 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6512 ms
2026-01-27 10:58:49.956 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.5195ms
2026-01-27 10:58:49.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:58:49.960 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:58:49.963 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:49.965 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:58:49.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:58:49.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:58:49.973 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:58:49.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:58:49.979 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:58:49.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:49.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:49.984 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:49.985 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:58:49.987 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:58:49.989 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:58:49.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:58:49.992 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:58:49.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:58:49.994 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 27.1562ms
2026-01-27 10:58:49.995 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:58:49.996 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 35.4972 ms
2026-01-27 10:58:49.997 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 39.127ms
2026-01-27 10:59:13.414 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 10:59:13.416 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:13.417 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 0.6262 ms
2026-01-27 10:59:13.418 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 3.4675ms
2026-01-27 10:59:13.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 10:59:13.424 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:13.425 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:13.433 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 10:59:13.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 10:59:13.447 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 10:59:13.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:59:13.450 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 15.4067ms
2026-01-27 10:59:13.451 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:13.451 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 27.6902 ms
2026-01-27 10:59:13.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 32.4131ms
2026-01-27 10:59:37.416 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:59:37.420 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:37.422 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.9165 ms
2026-01-27 10:59:37.425 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.8828ms
2026-01-27 10:59:37.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:59:37.431 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:37.432 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:37.433 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:59:37.435 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:37.436 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:59:37.438 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:59:37.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:37.440 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:59:37.442 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:37.443 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:37.445 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:37.446 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:37.448 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:59:37.450 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:59:37.451 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:59:37.452 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:59:37.453 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:59:37.454 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 20.1014ms
2026-01-27 10:59:37.455 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:37.456 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 24.3804 ms
2026-01-27 10:59:37.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 27.8991ms
2026-01-27 10:59:42.646 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 10:59:42.649 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:42.649 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.6770 ms
2026-01-27 10:59:42.651 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 5.0272ms
2026-01-27 10:59:42.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 10:59:42.657 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:42.659 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:42.660 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 10:59:42.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:42.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:59:42.665 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.1861ms
2026-01-27 10:59:42.666 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:42.667 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 9.7969 ms
2026-01-27 10:59:42.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 12.9562ms
2026-01-27 10:59:55.077 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 10:59:55.082 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:55.084 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.7745 ms
2026-01-27 10:59:55.086 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.9142ms
2026-01-27 10:59:55.089 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 10:59:55.092 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:55.093 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:55.094 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 10:59:55.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:55.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 10:59:55.098 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 10:59:55.099 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:55.101 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 10:59:55.103 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:55.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:55.105 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:55.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 10:59:55.109 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 10:59:55.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 10:59:55.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 10:59:55.113 +03:00 [INF] Dashboard data retrieved
2026-01-27 10:59:55.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 10:59:55.114 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 19.4209ms
2026-01-27 10:59:55.115 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:55.115 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 23.2680 ms
2026-01-27 10:59:55.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 26.9576ms
2026-01-27 10:59:58.608 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 10:59:58.610 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:58.611 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.8271 ms
2026-01-27 10:59:58.613 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 4.6258ms
2026-01-27 10:59:58.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 10:59:58.618 +03:00 [INF] CORS policy execution successful.
2026-01-27 10:59:58.620 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:58.622 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 10:59:58.639 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 10:59:58.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 10:59:58.670 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 46.8871ms
2026-01-27 10:59:58.671 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 10:59:58.672 +03:00 [INF] HTTP GET /api/Employees responded 200 in 54.6674 ms
2026-01-27 10:59:58.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 59.204ms
2026-01-27 11:01:03.636 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:01:03.638 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:03.639 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.4993 ms
2026-01-27 11:01:03.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 3.4179ms
2026-01-27 11:01:03.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:01:03.643 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:03.645 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:03.646 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:01:03.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:01:03.653 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:01:03.654 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 6.8829ms
2026-01-27 11:01:03.655 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:03.656 +03:00 [INF] HTTP GET /api/Employees responded 200 in 12.1821 ms
2026-01-27 11:01:03.657 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 15.2208ms
2026-01-27 11:01:04.948 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:01:04.950 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:04.951 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.7541 ms
2026-01-27 11:01:04.952 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.3217ms
2026-01-27 11:01:04.954 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:01:04.956 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:04.958 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:04.959 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:01:04.962 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:01:04.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:01:04.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:01:04.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:01:04.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:01:04.973 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:04.975 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:04.976 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:04.978 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:04.980 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:01:04.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:01:04.983 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:01:04.985 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:01:04.985 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:01:04.986 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 25.8685ms
2026-01-27 11:01:04.987 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:04.987 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 30.8317 ms
2026-01-27 11:01:04.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 33.9044ms
2026-01-27 11:01:10.699 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:01:10.701 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:10.702 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6002 ms
2026-01-27 11:01:10.703 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 3.8082ms
2026-01-27 11:01:10.705 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:01:10.706 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:01:10.707 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:10.708 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:01:10.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:01:10.713 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:01:10.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:01:10.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:01:10.718 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:01:10.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:10.721 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:10.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:10.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:01:10.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:01:10.728 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:01:10.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:01:10.731 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:01:10.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:01:10.732 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 22.9029ms
2026-01-27 11:01:10.733 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:01:10.734 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 27.5740 ms
2026-01-27 11:01:10.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 30.3667ms
2026-01-27 11:03:19.064 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:03:19.068 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:03:19.069 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.5776 ms
2026-01-27 11:03:19.070 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 5.6492ms
2026-01-27 11:03:19.075 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:03:19.079 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:03:19.080 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:19.081 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:03:19.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:19.086 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:03:19.088 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:03:19.089 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:19.092 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:03:19.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:19.099 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:19.101 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:19.102 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:19.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:03:19.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:03:19.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:03:19.109 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:03:19.110 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:03:19.110 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 28.08ms
2026-01-27 11:03:19.111 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:19.112 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 33.2358 ms
2026-01-27 11:03:19.113 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 38.0625ms
2026-01-27 11:03:22.570 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:03:22.575 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:03:22.578 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:22.580 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:03:22.582 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:22.584 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:03:22.586 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:03:22.588 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:22.589 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:03:22.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:22.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:22.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:22.598 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:22.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:03:22.602 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:03:22.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:03:22.607 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:03:22.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:03:22.610 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 28.8113ms
2026-01-27 11:03:22.612 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:22.613 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 37.4549 ms
2026-01-27 11:03:22.614 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 44.1502ms
2026-01-27 11:03:33.050 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:03:33.052 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:03:33.052 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.4059 ms
2026-01-27 11:03:33.053 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 2.669ms
2026-01-27 11:03:33.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:03:33.056 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:03:33.057 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:33.057 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:03:33.059 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:33.060 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:03:33.061 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:03:33.062 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:03:33.064 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:03:33.066 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:33.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:33.068 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:33.069 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:03:33.071 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:03:33.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:03:33.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:03:33.075 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:03:33.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:03:33.076 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 18.5341ms
2026-01-27 11:03:33.077 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:03:33.078 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 22.0581 ms
2026-01-27 11:03:33.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 24.1665ms
2026-01-27 11:04:10.025 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 11:04:10.029 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:10.030 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.0850 ms
2026-01-27 11:04:10.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 8.029ms
2026-01-27 11:04:10.036 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 11:04:10.038 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:10.039 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:10.039 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 11:04:10.048 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:04:10.091 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 11:04:10.095 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 11:04:10.096 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 55.6506ms
2026-01-27 11:04:10.097 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:10.098 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 60.0180 ms
2026-01-27 11:04:10.100 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 63.3169ms
2026-01-27 11:04:10.111 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:04:10.117 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:10.118 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.4298 ms
2026-01-27 11:04:10.121 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.1068ms
2026-01-27 11:04:10.124 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:04:10.127 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:10.128 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:10.130 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:04:10.133 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:04:10.134 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:04:10.136 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:04:10.138 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:04:10.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:04:10.140 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:04:10.142 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:04:10.143 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:04:10.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:04:10.146 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:04:10.147 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:04:10.149 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:04:10.150 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:04:10.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:04:10.152 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 20.3447ms
2026-01-27 11:04:10.153 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:10.153 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 26.6833 ms
2026-01-27 11:04:10.154 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 30.8592ms
2026-01-27 11:04:18.373 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:04:18.377 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:18.377 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.4989 ms
2026-01-27 11:04:18.379 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 5.8144ms
2026-01-27 11:04:18.383 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:04:18.385 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:04:18.387 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:18.389 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:04:18.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:04:18.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:04:18.395 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 5.0758ms
2026-01-27 11:04:18.396 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:04:18.396 +03:00 [INF] HTTP GET /api/Employees responded 200 in 10.9037 ms
2026-01-27 11:04:18.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 14.6278ms
2026-01-27 11:06:08.527 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:06:08.533 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:08.534 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.9734 ms
2026-01-27 11:06:08.536 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 8.3663ms
2026-01-27 11:06:08.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:06:08.541 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:08.542 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:08.544 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:06:08.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:06:08.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:06:08.550 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 5.0631ms
2026-01-27 11:06:08.551 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:08.552 +03:00 [INF] HTTP GET /api/Employees responded 200 in 11.7438 ms
2026-01-27 11:06:08.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 15.3341ms
2026-01-27 11:06:14.844 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 11:06:14.848 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:14.849 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.1080 ms
2026-01-27 11:06:14.851 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 6.9448ms
2026-01-27 11:06:14.854 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 11:06:14.857 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:14.859 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:14.860 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 11:06:14.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:06:14.904 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 11:06:14.909 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 11:06:14.910 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 48.9569ms
2026-01-27 11:06:14.912 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:14.913 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 56.2172 ms
2026-01-27 11:06:14.915 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 60.408ms
2026-01-27 11:06:14.936 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:06:14.941 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:14.942 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6821 ms
2026-01-27 11:06:14.943 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.4329ms
2026-01-27 11:06:14.945 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:06:14.948 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:14.950 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:14.950 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:06:14.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:06:14.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:06:14.958 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:06:14.960 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:06:14.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:06:14.963 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:06:14.964 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:06:14.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:06:14.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:06:14.969 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:06:14.972 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:06:14.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:06:14.975 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:06:14.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:06:14.976 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 24.3036ms
2026-01-27 11:06:14.978 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:14.979 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 30.6400 ms
2026-01-27 11:06:14.980 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 34.5452ms
2026-01-27 11:06:19.471 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:06:19.475 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:19.475 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.6623 ms
2026-01-27 11:06:19.476 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 5.7361ms
2026-01-27 11:06:19.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:06:19.485 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:19.486 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:19.486 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:06:19.489 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:06:19.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:06:19.491 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 3.2719ms
2026-01-27 11:06:19.492 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:19.493 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 8.2566 ms
2026-01-27 11:06:19.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 10.8871ms
2026-01-27 11:06:29.568 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:06:29.571 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:29.572 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 0.5646 ms
2026-01-27 11:06:29.572 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 4.9413ms
2026-01-27 11:06:29.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:06:29.579 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:06:29.580 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:29.581 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 11:06:29.584 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 11:06:29.585 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 11:06:29.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:06:29.587 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 4.946ms
2026-01-27 11:06:29.588 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:06:29.589 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 10.0641 ms
2026-01-27 11:06:29.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 13.3223ms
2026-01-27 11:07:36.087 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:07:36.093 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:36.094 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.7984 ms
2026-01-27 11:07:36.098 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 10.5655ms
2026-01-27 11:07:36.100 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:07:36.102 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:36.104 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:36.106 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:07:36.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:07:36.111 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:07:36.113 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 6.1908ms
2026-01-27 11:07:36.114 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:36.115 +03:00 [INF] HTTP GET /api/Employees responded 200 in 12.6045 ms
2026-01-27 11:07:36.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 15.484ms
2026-01-27 11:07:46.508 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:07:46.513 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:46.515 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 2.2952 ms
2026-01-27 11:07:46.517 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.5422ms
2026-01-27 11:07:46.519 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:07:46.520 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:46.521 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:46.522 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:07:46.524 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:07:46.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:07:46.528 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.8573ms
2026-01-27 11:07:46.530 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:46.531 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 10.8996 ms
2026-01-27 11:07:46.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 14.346ms
2026-01-27 11:07:47.512 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:07:47.518 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:47.519 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.4507 ms
2026-01-27 11:07:47.522 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 9.2308ms
2026-01-27 11:07:47.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:07:47.525 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:07:47.526 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:47.527 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:07:47.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:07:47.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:07:47.531 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 3.3277ms
2026-01-27 11:07:47.532 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:07:47.533 +03:00 [INF] HTTP GET /api/Employees responded 200 in 7.9879 ms
2026-01-27 11:07:47.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 10.6466ms
2026-01-27 11:08:00.290 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:08:00.294 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:00.296 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.5694 ms
2026-01-27 11:08:00.298 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.4798ms
2026-01-27 11:08:00.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:08:00.303 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:00.305 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:00.305 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:08:00.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:08:00.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:08:00.311 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.1556ms
2026-01-27 11:08:00.312 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:00.312 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 9.2049 ms
2026-01-27 11:08:00.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 12.7389ms
2026-01-27 11:08:01.462 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:08:01.465 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:01.468 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 2.7576 ms
2026-01-27 11:08:01.471 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 9.41ms
2026-01-27 11:08:01.473 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:08:01.475 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:01.476 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:01.477 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:08:01.479 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:08:01.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:08:01.481 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 3.5383ms
2026-01-27 11:08:01.482 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:01.483 +03:00 [INF] HTTP GET /api/Employees responded 200 in 8.0278 ms
2026-01-27 11:08:01.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 10.4247ms
2026-01-27 11:08:01.990 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:08:01.993 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:01.994 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.8161 ms
2026-01-27 11:08:01.996 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 5.7038ms
2026-01-27 11:08:01.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:08:02.001 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:08:02.002 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:02.003 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:08:02.005 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:08:02.007 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:08:02.009 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:08:02.012 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:08:02.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:08:02.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:08:02.018 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:08:02.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:08:02.021 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:08:02.023 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:08:02.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:08:02.027 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:08:02.029 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:08:02.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:08:02.030 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 26.0226ms
2026-01-27 11:08:02.031 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:08:02.032 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 31.0403 ms
2026-01-27 11:08:02.033 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 34.0747ms
2026-01-27 11:14:57.192 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.295 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:14:57.317 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:14:57.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:14:57.364 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 11:14:57.367 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 11:14:57.416 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 11:14:57.471 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 11:14:57.472 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 11:14:57.472 +03:00 [INF] Hosting environment: Development
2026-01-27 11:14:57.472 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 11:15:19.496 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 11:15:19.511 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:19.513 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.8428 ms
2026-01-27 11:15:19.516 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 20.8649ms
2026-01-27 11:15:19.522 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 11:15:19.525 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:19.576 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:19.585 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 11:15:19.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:15:19.704 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 11:15:19.722 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 11:15:19.740 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 150.2215ms
2026-01-27 11:15:19.743 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:19.749 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 223.6164 ms
2026-01-27 11:15:19.756 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 234.3491ms
2026-01-27 11:15:19.784 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:15:19.790 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:19.791 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.0185 ms
2026-01-27 11:15:19.793 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.7306ms
2026-01-27 11:15:19.795 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:15:19.800 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:19.828 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:19.832 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:15:19.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:15:19.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:15:19.883 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:15:19.890 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:15:19.908 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:15:19.934 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:15:19.945 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:15:19.953 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:15:19.965 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:15:19.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:15:20.012 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:15:20.030 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:15:20.035 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:15:20.037 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:15:20.048 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 213.4429ms
2026-01-27 11:15:20.050 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:20.051 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 251.1119 ms
2026-01-27 11:15:20.052 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 257.1809ms
2026-01-27 11:15:27.953 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:15:27.957 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:27.957 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.6622 ms
2026-01-27 11:15:27.958 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 5.0707ms
2026-01-27 11:15:27.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:15:27.967 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:15:27.972 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:27.974 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:15:27.982 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:15:28.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:15:28.015 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 39.5073ms
2026-01-27 11:15:28.020 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:15:28.022 +03:00 [INF] HTTP GET /api/Employees responded 200 in 55.0677 ms
2026-01-27 11:15:28.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 60.5755ms
2026-01-27 11:16:38.940 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:16:38.944 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:38.945 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.9258 ms
2026-01-27 11:16:38.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 6.4888ms
2026-01-27 11:16:38.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:16:38.952 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:38.955 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:38.958 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:16:38.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:16:38.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:16:38.984 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 24.2479ms
2026-01-27 11:16:38.986 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:38.988 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 35.6257 ms
2026-01-27 11:16:38.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 39.5763ms
2026-01-27 11:16:48.301 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 11:16:48.305 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:48.306 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6291 ms
2026-01-27 11:16:48.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.4276ms
2026-01-27 11:16:48.312 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 11:16:48.315 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:48.317 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:48.318 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 11:16:48.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:16:48.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 11:16:48.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 11:16:48.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:16:48.332 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 11:16:48.336 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 11:16:48.339 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 11:16:48.340 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 11:16:48.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 11:16:48.345 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 11:16:48.348 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 11:16:48.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 11:16:48.353 +03:00 [INF] Dashboard data retrieved
2026-01-27 11:16:48.354 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 11:16:48.355 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 35.6269ms
2026-01-27 11:16:48.355 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:48.356 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 41.2925 ms
2026-01-27 11:16:48.358 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 45.5221ms
2026-01-27 11:16:53.872 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 11:16:53.877 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:53.878 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.1194 ms
2026-01-27 11:16:53.881 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 9.1659ms
2026-01-27 11:16:53.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 11:16:53.886 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:53.887 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:53.888 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 11:16:53.891 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:16:53.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:16:53.896 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 6.7744ms
2026-01-27 11:16:53.897 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:53.897 +03:00 [INF] HTTP GET /api/Employees responded 200 in 11.8971 ms
2026-01-27 11:16:53.899 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 15.0738ms
2026-01-27 11:16:55.811 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:16:55.813 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:55.814 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.1895 ms
2026-01-27 11:16:55.817 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 5.9557ms
2026-01-27 11:16:55.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:16:55.820 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:55.821 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:55.822 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:16:55.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:16:55.827 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:16:55.828 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.796ms
2026-01-27 11:16:55.828 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:55.829 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 9.1586 ms
2026-01-27 11:16:55.831 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 11.7314ms
2026-01-27 11:16:58.345 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 11:16:58.349 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:58.350 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 0.6819 ms
2026-01-27 11:16:58.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 6.6241ms
2026-01-27 11:16:58.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 11:16:58.356 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:16:58.357 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:58.360 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 11:16:58.371 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 11:16:58.374 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:16:58.376 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 14.877ms
2026-01-27 11:16:58.377 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:16:58.378 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 21.7098 ms
2026-01-27 11:16:58.379 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 24.7624ms
2026-01-27 11:17:04.497 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 11:17:04.501 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:04.503 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.7109 ms
2026-01-27 11:17:04.506 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.7527ms
2026-01-27 11:17:04.509 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 11:17:04.511 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:04.512 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:04.513 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 11:17:04.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 11:17:04.518 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:17:04.519 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 5.5662ms
2026-01-27 11:17:04.520 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:04.521 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 10.1150 ms
2026-01-27 11:17:04.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 13.2871ms
2026-01-27 11:17:12.908 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 11:17:12.913 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:12.914 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 1.5339 ms
2026-01-27 11:17:12.916 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 7.8986ms
2026-01-27 11:17:12.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 11:17:12.923 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:12.924 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:12.926 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 11:17:12.930 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 11:17:12.933 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:17:12.934 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 6.113ms
2026-01-27 11:17:12.935 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:12.936 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 12.6381 ms
2026-01-27 11:17:12.938 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 17.3296ms
2026-01-27 11:17:13.618 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:17:13.623 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:13.625 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 1.9495 ms
2026-01-27 11:17:13.627 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 9.212ms
2026-01-27 11:17:13.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:17:13.632 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:17:13.633 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:13.638 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 11:17:13.648 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 11:17:13.653 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 11:17:13.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:17:13.655 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 15.2816ms
2026-01-27 11:17:13.656 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:17:13.657 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 24.4908 ms
2026-01-27 11:17:13.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 27.8628ms
2026-01-27 11:18:50.282 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:18:50.284 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:18:50.285 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 0.7461 ms
2026-01-27 11:18:50.286 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 4.2383ms
2026-01-27 11:18:50.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:18:50.290 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:18:50.292 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:18:50.294 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 11:18:50.297 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 11:18:50.298 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 11:18:50.299 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:18:50.300 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 4.2481ms
2026-01-27 11:18:50.301 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:18:50.301 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 10.9283 ms
2026-01-27 11:18:50.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 13.9752ms
2026-01-27 11:19:01.234 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:19:01.235 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:19:01.236 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 0.4774 ms
2026-01-27 11:19:01.237 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 2.9177ms
2026-01-27 11:19:01.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 11:19:01.239 +03:00 [INF] CORS policy execution successful.
2026-01-27 11:19:01.241 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:19:01.241 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 11:19:01.243 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 11:19:01.246 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 11:19:01.246 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 11:19:01.247 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 4.7629ms
2026-01-27 11:19:01.248 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 11:19:01.248 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 8.9502 ms
2026-01-27 11:19:01.250 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 11.2449ms
2026-01-27 11:20:09.525 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.582 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.583 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.585 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.587 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 11:20:09.597 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:20:09.619 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 11:20:09.631 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 11:20:09.634 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 11:20:09.641 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 11:20:09.647 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2026-01-27 11:20:09.651 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
2026-01-27 11:20:09.743 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (DbType = Guid), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p16='?' (DbType = Boolean), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 200), @p20='?' (DbType = Guid), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (DbType = DateTime2), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (DbType = Boolean), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (Size = 200), @p30='?' (DbType = Guid), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p35='?' (DbType = Guid), @p36='?' (DbType = Boolean), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (Size = 200), @p40='?' (DbType = Guid), @p41='?' (DbType = Int32), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (Size = 4000), @p45='?' (DbType = Guid), @p46='?' (DbType = Boolean), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 200), @p50='?' (DbType = Guid), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (DbType = DateTime2), @p54='?' (Size = 4000), @p55='?' (DbType = Guid), @p56='?' (DbType = Boolean), @p57='?' (DbType = Int32), @p58='?' (DbType = Int32), @p59='?' (Size = 200), @p60='?' (DbType = Guid), @p61='?' (DbType = Int32), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime2), @p64='?' (Size = 4000), @p65='?' (DbType = Guid), @p66='?' (DbType = Boolean), @p67='?' (DbType = Int32), @p68='?' (DbType = Int32), @p69='?' (Size = 200), @p70='?' (DbType = Guid), @p71='?' (DbType = Int32), @p72='?' (DbType = DateTime2), @p73='?' (DbType = DateTime2), @p74='?' (Size = 4000), @p75='?' (DbType = Guid), @p76='?' (DbType = Boolean), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Investigations] ([Id], [CaseType], [ClosedAt], [CreatedAt], [Description], [EmployeeId], [IsDeleted], [Outcome], [Status], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2026-01-27 11:20:09.750 +03:00 [INF] Seeded 8 investigations
2026-01-27 11:20:09.794 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 11:20:09.822 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 11:20:09.824 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 11:20:09.824 +03:00 [INF] Hosting environment: Development
2026-01-27 11:20:09.825 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 11:31:26.211 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 11:31:26.241 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 11:31:26.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 11:31:26.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 11:31:26.269 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-27 11:31:26.278 +03:00 [INF] Applying migration '20260127083102_AddRefreshTokens'.
2026-01-27 11:31:26.313 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] uniqueidentifier NOT NULL,
    [Token] nvarchar(512) NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [ExpiresAtUtc] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [RevokedAtUtc] datetime2 NULL,
    [ReplacedByToken] nvarchar(512) NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2026-01-27 11:31:26.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_ExpiresAtUtc] ON [RefreshTokens] ([ExpiresAtUtc]);
2026-01-27 11:31:26.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_Token] ON [RefreshTokens] ([Token]);
2026-01-27 11:31:26.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2026-01-27 11:31:26.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260127083102_AddRefreshTokens', N'8.0.6');
2026-01-27 12:30:55.205 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 12:30:55.242 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 12:30:55.245 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 12:30:55.247 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 12:30:55.261 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-27 12:30:55.270 +03:00 [INF] Applying migration '20260127093022_AddWarningLetterContent'.
2026-01-27 12:30:55.314 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] DROP CONSTRAINT [FK_WarningLetters_Investigations_InvestigationId];
2026-01-27 12:30:55.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_WarningLetters_InvestigationId] ON [WarningLetters];
2026-01-27 12:30:55.320 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD [HtmlContent] nvarchar(max) NOT NULL DEFAULT N'';
2026-01-27 12:30:55.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD [Template] nvarchar(50) NOT NULL DEFAULT N'';
2026-01-27 12:30:55.327 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CaseHistory] (
    [Id] uniqueidentifier NOT NULL,
    [InvestigationId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NULL,
    [EventType] int NOT NULL,
    [Description] nvarchar(1000) NOT NULL,
    [OldValue] nvarchar(200) NULL,
    [NewValue] nvarchar(200) NULL,
    [ReferenceId] uniqueidentifier NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_CaseHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CaseHistory_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_CaseHistory_Investigations_InvestigationId] FOREIGN KEY ([InvestigationId]) REFERENCES [Investigations] ([Id]) ON DELETE CASCADE
);
2026-01-27 12:30:55.329 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_WarningLetters_InvestigationId] ON [WarningLetters] ([InvestigationId]);
2026-01-27 12:30:55.330 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_CreatedAt] ON [CaseHistory] ([CreatedAt]);
2026-01-27 12:30:55.332 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_InvestigationId] ON [CaseHistory] ([InvestigationId]);
2026-01-27 12:30:55.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_UserId] ON [CaseHistory] ([UserId]);
2026-01-27 12:30:55.338 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD CONSTRAINT [FK_WarningLetters_Investigations_InvestigationId] FOREIGN KEY ([InvestigationId]) REFERENCES [Investigations] ([Id]) ON DELETE CASCADE;
2026-01-27 12:32:45.256 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 12:32:45.286 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 12:32:45.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-27 12:32:45.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-27 12:32:45.302 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-27 12:32:45.309 +03:00 [INF] Applying migration '20260127093022_AddWarningLetterContent'.
2026-01-27 12:32:45.342 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] DROP CONSTRAINT [FK_WarningLetters_Employees_EmployeeId];
2026-01-27 12:32:45.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] DROP CONSTRAINT [FK_WarningLetters_Investigations_InvestigationId];
2026-01-27 12:32:45.346 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_WarningLetters_InvestigationId] ON [WarningLetters];
2026-01-27 12:32:45.348 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD [HtmlContent] nvarchar(max) NOT NULL DEFAULT N'';
2026-01-27 12:32:45.350 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD [Template] nvarchar(50) NOT NULL DEFAULT N'';
2026-01-27 12:32:45.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CaseHistory] (
    [Id] uniqueidentifier NOT NULL,
    [InvestigationId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NULL,
    [EventType] int NOT NULL,
    [Description] nvarchar(1000) NOT NULL,
    [OldValue] nvarchar(200) NULL,
    [NewValue] nvarchar(200) NULL,
    [ReferenceId] uniqueidentifier NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_CaseHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CaseHistory_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_CaseHistory_Investigations_InvestigationId] FOREIGN KEY ([InvestigationId]) REFERENCES [Investigations] ([Id]) ON DELETE CASCADE
);
2026-01-27 12:32:45.355 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_WarningLetters_InvestigationId] ON [WarningLetters] ([InvestigationId]);
2026-01-27 12:32:45.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_CreatedAt] ON [CaseHistory] ([CreatedAt]);
2026-01-27 12:32:45.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_InvestigationId] ON [CaseHistory] ([InvestigationId]);
2026-01-27 12:32:45.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CaseHistory_UserId] ON [CaseHistory] ([UserId]);
2026-01-27 12:32:45.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD CONSTRAINT [FK_WarningLetters_Employees_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employees] ([Id]) ON DELETE NO ACTION;
2026-01-27 12:32:45.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [WarningLetters] ADD CONSTRAINT [FK_WarningLetters_Investigations_InvestigationId] FOREIGN KEY ([InvestigationId]) REFERENCES [Investigations] ([Id]) ON DELETE CASCADE;
2026-01-27 12:32:45.366 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260127093022_AddWarningLetterContent', N'8.0.6');
2026-01-27 12:34:01.929 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.982 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.984 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.985 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.987 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.988 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:01.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:34:02.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 12:34:02.024 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 12:34:02.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 12:34:02.042 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 12:34:02.049 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 12:34:02.051 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 12:34:02.099 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 12:34:02.150 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 12:34:02.150 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 12:34:02.151 +03:00 [INF] Hosting environment: Development
2026-01-27 12:34:02.151 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 12:36:14.815 +03:00 [INF] Application is shutting down...
2026-01-27 12:37:43.853 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.910 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.912 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.914 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.917 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.919 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 12:37:43.929 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 12:37:43.954 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 12:37:43.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 12:37:43.971 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 12:37:43.979 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 12:37:43.982 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 12:37:44.031 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 12:37:44.082 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 12:37:44.083 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 12:37:44.083 +03:00 [INF] Hosting environment: Development
2026-01-27 12:37:44.083 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 12:37:53.041 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 12:37:53.067 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:37:53.070 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 4.3407 ms
2026-01-27 12:37:53.073 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 33.1069ms
2026-01-27 12:37:53.079 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 12:37:53.084 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:37:53.153 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 12:37:53.163 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 12:37:53.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 12:37:53.317 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 12:37:53.422 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 512), @p5='?' (DbType = DateTime2), @p6='?' (Size = 512), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAtUtc], [ExpiresAtUtc], [IsRevoked], [ReplacedByToken], [RevokedAtUtc], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-27 12:37:53.438 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 12:37:53.449 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 282.3893ms
2026-01-27 12:37:53.449 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 12:37:53.451 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 367.0626 ms
2026-01-27 12:37:53.455 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 375.6726ms
2026-01-27 12:37:53.487 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:37:53.492 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:37:53.494 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 2.1232 ms
2026-01-27 12:37:53.496 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.5222ms
2026-01-27 12:37:53.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:37:53.509 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:37:53.538 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:37:53.543 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:37:53.580 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:37:53.594 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:37:53.603 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:37:53.613 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:37:53.632 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:37:53.660 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:37:53.673 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:37:53.686 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:37:53.701 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:37:53.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:37:53.743 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:37:53.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:37:53.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:37:53.767 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:37:53.769 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:37:53.771 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:37:53.773 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:37:53.775 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:37:53.776 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:37:53.778 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:37:53.780 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:37:53.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:37:53.795 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:37:53.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:37:53.807 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 262.1696ms
2026-01-27 12:37:53.808 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:37:53.809 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 300.5645 ms
2026-01-27 12:37:53.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 307.4214ms
2026-01-27 12:38:29.157 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:38:29.160 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:29.160 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.6805 ms
2026-01-27 12:38:29.163 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 6.2041ms
2026-01-27 12:38:29.167 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:38:29.170 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:29.176 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:29.179 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:29.191 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:38:29.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:38:29.209 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 28.1727ms
2026-01-27 12:38:29.209 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:29.210 +03:00 [INF] HTTP GET /api/Employees responded 200 in 40.0621 ms
2026-01-27 12:38:29.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 44.5782ms
2026-01-27 12:38:35.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc - null null
2026-01-27 12:38:35.542 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:35.543 +03:00 [INF] HTTP OPTIONS /api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc responded 204 in 1.0792 ms
2026-01-27 12:38:35.546 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc - 204 null null 7.8115ms
2026-01-27 12:38:35.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc - null null
2026-01-27 12:38:35.551 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:35.553 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:35.555 +03:00 [INF] Route matched with {action = "GetById", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]] GetById(System.Guid, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:35.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[Id] = @__id_0
2026-01-27 12:38:35.567 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.EmployeeDto'.
2026-01-27 12:38:35.568 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetById (EmployeeInvestigationSystem.API) in 11.3413ms
2026-01-27 12:38:35.569 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:35.570 +03:00 [INF] HTTP GET /api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc responded 200 in 18.6793 ms
2026-01-27 12:38:35.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees/566898f1-9f80-4b8f-a530-06caaaec06cc - 200 null application/json; charset=utf-8 21.9136ms
2026-01-27 12:38:35.574 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 12:38:35.576 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:35.576 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.6661 ms
2026-01-27 12:38:35.578 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 3.1607ms
2026-01-27 12:38:35.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 12:38:35.581 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:35.582 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:35.585 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:35.600 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:38:35.621 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:38:35.634 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 47.8019ms
2026-01-27 12:38:35.635 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:35.636 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 55.2757 ms
2026-01-27 12:38:35.637 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 57.8897ms
2026-01-27 12:38:40.175 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:38:40.180 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:40.185 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 5.2507 ms
2026-01-27 12:38:40.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 12.3047ms
2026-01-27 12:38:40.190 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:38:40.193 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:40.195 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:40.196 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:40.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:38:40.205 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:38:40.206 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 8.0846ms
2026-01-27 12:38:40.207 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:40.208 +03:00 [INF] HTTP GET /api/Employees responded 200 in 15.2184 ms
2026-01-27 12:38:40.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 18.9786ms
2026-01-27 12:38:52.423 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:38:52.424 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:38:52.425 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:52.426 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:52.427 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 0.8951 ms
2026-01-27 12:38:52.427 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 1.6114 ms
2026-01-27 12:38:52.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 4.8854ms
2026-01-27 12:38:52.431 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 8.2204ms
2026-01-27 12:38:52.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:38:52.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:38:52.436 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:52.439 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:38:52.440 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:52.443 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:52.450 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:52.451 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 12:38:52.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 12:38:52.455 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:38:52.457 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 12.173ms
2026-01-27 12:38:52.459 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:52.459 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 20.5365 ms
2026-01-27 12:38:52.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 26.0794ms
2026-01-27 12:38:52.472 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:38:52.483 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 12:38:52.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:38:52.489 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 31.4562ms
2026-01-27 12:38:52.491 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:38:52.492 +03:00 [INF] HTTP GET /api/Cases responded 200 in 55.5124 ms
2026-01-27 12:38:52.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 59.9841ms
2026-01-27 12:39:01.398 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:39:01.399 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:39:01.405 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:01.408 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:01.409 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 4.0343 ms
2026-01-27 12:39:01.410 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 1.9358 ms
2026-01-27 12:39:01.413 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 14.8411ms
2026-01-27 12:39:01.415 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 15.9393ms
2026-01-27 12:39:01.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:39:01.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:39:01.424 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:01.425 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:01.426 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:01.426 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:01.427 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:01.427 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:01.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 12:39:01.431 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 12:39:01.432 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 3.8258ms
2026-01-27 12:39:01.433 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:01.433 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 9.8671 ms
2026-01-27 12:39:01.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 15.4881ms
2026-01-27 12:39:01.435 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:39:01.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 12:39:01.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:01.441 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 12.1752ms
2026-01-27 12:39:01.442 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:01.443 +03:00 [INF] HTTP GET /api/Cases responded 200 in 17.6050 ms
2026-01-27 12:39:01.444 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 22.2227ms
2026-01-27 12:39:15.424 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:15.427 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:15.429 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.4941 ms
2026-01-27 12:39:15.430 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 6.102ms
2026-01-27 12:39:15.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:15.436 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:15.439 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:15.440 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:15.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:39:15.447 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:15.449 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 6.3664ms
2026-01-27 12:39:15.450 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:15.450 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 14.2264 ms
2026-01-27 12:39:15.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 18.8339ms
2026-01-27 12:39:25.182 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 - null null
2026-01-27 12:39:25.184 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:25.185 +03:00 [INF] HTTP OPTIONS /api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 responded 204 in 0.6770 ms
2026-01-27 12:39:25.186 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 - 204 null null 3.6346ms
2026-01-27 12:39:25.189 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 - null null
2026-01-27 12:39:25.192 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:25.193 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:25.196 +03:00 [INF] Route matched with {action = "GetById", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]] GetById(System.Guid, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:25.213 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 12:39:25.221 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CaseType], [t].[ClosedAt], [t].[CreatedAt], [t].[Description], [t].[EmployeeId], [t].[IsDeleted], [t].[Outcome], [t].[Status], [t].[Title], [t].[Id0], [t].[CreatedAt0], [t].[Department], [t].[Designation], [t].[EmployeeId0], [t].[Factory], [t].[IsDeleted0], [t].[Name], [t].[Status0], [t].[UpdatedAt], [i0].[Id], [i0].[CreatedAt], [i0].[InvestigationId], [i0].[Remark], [i0].[UserId], [i1].[Id], [i1].[ContentType], [i1].[FileName], [i1].[FilePath], [i1].[FileSize], [i1].[InvestigationId], [i1].[UploadedAt]
FROM (
    SELECT TOP(1) [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id] AS [Id0], [e].[CreatedAt] AS [CreatedAt0], [e].[Department], [e].[Designation], [e].[EmployeeId] AS [EmployeeId0], [e].[Factory], [e].[IsDeleted] AS [IsDeleted0], [e].[Name], [e].[Status] AS [Status0], [e].[UpdatedAt]
    FROM [Investigations] AS [i]
    INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
    WHERE [i].[Id] = @__id_0 AND [i].[IsDeleted] = CAST(0 AS bit)
) AS [t]
LEFT JOIN [InvestigationRemarks] AS [i0] ON [t].[Id] = [i0].[InvestigationId]
LEFT JOIN [InvestigationAttachments] AS [i1] ON [t].[Id] = [i1].[InvestigationId]
ORDER BY [t].[Id], [t].[Id0], [i0].[Id]
2026-01-27 12:39:25.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.InvestigationDto'.
2026-01-27 12:39:25.227 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API) in 29.5464ms
2026-01-27 12:39:25.228 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:25.229 +03:00 [INF] HTTP GET /api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 responded 200 in 37.2623 ms
2026-01-27 12:39:25.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations/94abb6d7-ce60-425c-8cf1-6ff65c32fe10 - 200 null application/json; charset=utf-8 41.005ms
2026-01-27 12:39:27.520 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:27.524 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:27.526 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.9696 ms
2026-01-27 12:39:27.529 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 8.6461ms
2026-01-27 12:39:27.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:27.534 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:27.535 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:27.535 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:27.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:39:27.540 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:27.541 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.2653ms
2026-01-27 12:39:27.542 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:27.542 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 8.8259 ms
2026-01-27 12:39:27.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 11.2891ms
2026-01-27 12:39:33.242 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:39:33.246 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:33.247 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 1.0013 ms
2026-01-27 12:39:33.250 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 7.8308ms
2026-01-27 12:39:33.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:39:33.256 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:33.258 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:33.261 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:33.271 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 12:39:33.276 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:33.278 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 16.6648ms
2026-01-27 12:39:33.279 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:33.280 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 24.0481 ms
2026-01-27 12:39:33.281 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 28.13ms
2026-01-27 12:39:39.714 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:39.717 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:39.719 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.3687 ms
2026-01-27 12:39:39.721 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.5638ms
2026-01-27 12:39:39.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 12:39:39.726 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:39.727 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:39.727 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:39.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:39:39.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:39.732 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 3.6733ms
2026-01-27 12:39:39.733 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:39.734 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 8.8127 ms
2026-01-27 12:39:39.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 11.6196ms
2026-01-27 12:39:42.490 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:39:42.496 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:42.498 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 1.5684 ms
2026-01-27 12:39:42.500 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 10.1718ms
2026-01-27 12:39:42.504 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:39:42.506 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:39:42.507 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:42.508 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 12:39:42.511 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 12:39:42.513 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:39:42.513 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 4.2898ms
2026-01-27 12:39:42.514 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:39:42.515 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 9.4437 ms
2026-01-27 12:39:42.516 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 11.8252ms
2026-01-27 12:40:06.294 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - null null
2026-01-27 12:40:06.301 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:06.303 +03:00 [INF] HTTP OPTIONS /api/AuditLogs responded 204 in 2.2311 ms
2026-01-27 12:40:06.305 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/AuditLogs - 204 null null 11.7775ms
2026-01-27 12:40:06.309 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/AuditLogs - null null
2026-01-27 12:40:06.311 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:06.313 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:06.318 +03:00 [INF] Route matched with {action = "GetAuditLogs", controller = "AuditLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuditLogs(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller EmployeeInvestigationSystem.API.Controllers.AuditLogsController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:06.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Action], [a].[DurationMs], [a].[Endpoint], [a].[EntityId], [a].[EntityType], [a].[HttpMethod], [a].[IpAddress], [a].[NewValues], [a].[Notes], [a].[OldValues], [a].[StatusCode], [a].[Timestamp], [a].[UserId], [a].[UserName]
FROM [AuditLogs] AS [a]
ORDER BY [a].[Timestamp] DESC
2026-01-27 12:40:06.333 +03:00 [INF] Audit logs retrieved with filters: StartDate=null, EndDate=null, Action=null
2026-01-27 12:40:06.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.AuditLogDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:06.337 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API) in 17.2624ms
2026-01-27 12:40:06.338 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuditLogsController.GetAuditLogs (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:06.338 +03:00 [INF] HTTP GET /api/AuditLogs responded 200 in 27.2921 ms
2026-01-27 12:40:06.340 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/AuditLogs - 200 null application/json; charset=utf-8 30.3896ms
2026-01-27 12:40:08.938 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:08.944 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:08.946 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.9526 ms
2026-01-27 12:40:08.948 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.5636ms
2026-01-27 12:40:08.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:08.953 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:08.954 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:08.955 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:08.957 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:08.959 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:40:08.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:40:08.963 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:08.965 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:40:08.967 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:08.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:08.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:08.971 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:08.973 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:40:08.975 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:40:08.977 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:08.980 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:08.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:08.983 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:08.984 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:08.986 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:08.988 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:08.989 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:08.992 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:08.993 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:08.996 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:40:08.998 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:40:08.998 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:40:08.999 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 43.3186ms
2026-01-27 12:40:09.000 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:09.001 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 47.9030 ms
2026-01-27 12:40:09.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 51.2444ms
2026-01-27 12:40:24.292 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:40:24.294 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:24.294 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.4237 ms
2026-01-27 12:40:24.295 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 3.2968ms
2026-01-27 12:40:24.298 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:40:24.300 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:24.301 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:24.302 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:24.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:24.306 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:24.307 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.1998ms
2026-01-27 12:40:24.308 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:24.309 +03:00 [INF] HTTP GET /api/Employees responded 200 in 8.5920 ms
2026-01-27 12:40:24.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 11.3019ms
2026-01-27 12:40:26.371 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:40:26.373 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:40:26.378 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:26.384 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:26.384 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 6.1447 ms
2026-01-27 12:40:26.385 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 1.5052 ms
2026-01-27 12:40:26.387 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 15.6983ms
2026-01-27 12:40:26.389 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 16.062ms
2026-01-27 12:40:26.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:40:26.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:40:26.395 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:26.396 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:26.397 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:26.397 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:26.398 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:26.398 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:26.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 12:40:26.402 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:26.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 12:40:26.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 12:40:26.404 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 4.6427ms
2026-01-27 12:40:26.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:26.406 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:26.407 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 6.1845ms
2026-01-27 12:40:26.408 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 13.1369 ms
2026-01-27 12:40:26.408 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:26.409 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 17.7296ms
2026-01-27 12:40:26.410 +03:00 [INF] HTTP GET /api/Cases responded 200 in 13.8619 ms
2026-01-27 12:40:26.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 19.4446ms
2026-01-27 12:40:33.026 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:33.030 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:33.032 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 2.0037 ms
2026-01-27 12:40:33.035 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.9514ms
2026-01-27 12:40:33.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:33.039 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:33.040 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:33.041 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:33.044 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:33.046 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:40:33.047 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:40:33.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:33.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:40:33.052 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:33.054 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:33.055 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:33.057 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:33.059 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:40:33.061 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:40:33.063 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:33.065 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:33.066 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:33.068 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:33.069 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:33.071 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:33.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:33.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:33.075 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:33.077 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:33.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:40:33.080 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:40:33.080 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:40:33.081 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 38.9305ms
2026-01-27 12:40:33.082 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:33.082 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 43.4227 ms
2026-01-27 12:40:33.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 46.1227ms
2026-01-27 12:40:36.966 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:40:36.970 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:36.971 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.0595 ms
2026-01-27 12:40:36.975 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 8.5437ms
2026-01-27 12:40:36.977 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:40:36.979 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:36.980 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:36.981 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:36.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:36.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:36.988 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 5.2837ms
2026-01-27 12:40:36.989 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:36.989 +03:00 [INF] HTTP GET /api/Employees responded 200 in 10.3266 ms
2026-01-27 12:40:36.991 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 13.3784ms
2026-01-27 12:40:38.648 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:40:38.649 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:40:38.651 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:38.657 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:38.657 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 6.3634 ms
2026-01-27 12:40:38.658 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 1.8147 ms
2026-01-27 12:40:38.661 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 13.0463ms
2026-01-27 12:40:38.663 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 13.3197ms
2026-01-27 12:40:38.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:40:38.667 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:40:38.669 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:38.670 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:38.671 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:38.671 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:38.672 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:38.673 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:38.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 12:40:38.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:38.676 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 12:40:38.677 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 3.8481ms
2026-01-27 12:40:38.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 12:40:38.678 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:38.679 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:38.680 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 10.8710 ms
2026-01-27 12:40:38.680 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 5.9325ms
2026-01-27 12:40:38.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 15.9068ms
2026-01-27 12:40:38.682 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:38.684 +03:00 [INF] HTTP GET /api/Cases responded 200 in 13.9062 ms
2026-01-27 12:40:38.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 17.9491ms
2026-01-27 12:40:41.375 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 12:40:41.379 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:41.380 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.9769 ms
2026-01-27 12:40:41.383 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.9326ms
2026-01-27 12:40:41.386 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 12:40:41.388 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:41.389 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:41.390 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:41.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:41.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:40:41.395 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 3.563ms
2026-01-27 12:40:41.396 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:41.396 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 8.7474 ms
2026-01-27 12:40:41.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 11.3966ms
2026-01-27 12:40:46.652 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:46.656 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:46.656 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6512 ms
2026-01-27 12:40:46.658 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.0127ms
2026-01-27 12:40:46.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:40:46.667 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:40:46.668 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:46.669 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:40:46.671 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:46.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:40:46.674 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:40:46.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:40:46.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:40:46.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:46.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:46.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:46.684 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:40:46.686 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:40:46.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:40:46.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:46.692 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:46.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:46.694 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:46.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:46.696 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:46.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:46.700 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:46.701 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:40:46.703 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:40:46.704 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:40:46.705 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:40:46.706 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:40:46.707 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 36.9109ms
2026-01-27 12:40:46.707 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:40:46.708 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 41.1310 ms
2026-01-27 12:40:46.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 45.073ms
2026-01-27 12:41:22.644 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:41:22.649 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:22.650 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.5716 ms
2026-01-27 12:41:22.653 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 8.6187ms
2026-01-27 12:41:22.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:41:22.656 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:22.657 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:22.658 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:41:22.661 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:22.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:41:22.664 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.04ms
2026-01-27 12:41:22.665 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:22.666 +03:00 [INF] HTTP GET /api/Employees responded 200 in 9.2853 ms
2026-01-27 12:41:22.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 11.6065ms
2026-01-27 12:41:26.266 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:41:26.271 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:26.273 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.5701 ms
2026-01-27 12:41:26.275 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.8035ms
2026-01-27 12:41:26.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:41:26.278 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:26.279 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:26.280 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:41:26.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:26.285 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:41:26.286 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:41:26.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:26.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:41:26.291 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:26.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:26.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:26.295 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:26.297 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:41:26.300 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:41:26.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:26.303 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:26.304 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:26.305 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:26.306 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:26.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:26.309 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:26.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:26.312 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:26.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:26.315 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:41:26.317 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:41:26.317 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:41:26.318 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 36.0176ms
2026-01-27 12:41:26.319 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:26.319 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 41.2236 ms
2026-01-27 12:41:26.320 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 43.42ms
2026-01-27 12:41:33.663 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:41:33.664 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:41:33.665 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:33.667 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:33.668 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 2.1671 ms
2026-01-27 12:41:33.669 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 1.5577 ms
2026-01-27 12:41:33.672 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 8.1028ms
2026-01-27 12:41:33.673 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 8.0181ms
2026-01-27 12:41:33.675 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 12:41:33.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 12:41:33.679 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:33.680 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:33.681 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:33.681 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:33.681 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:41:33.682 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 12:41:33.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 12:41:33.685 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:33.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 12:41:33.688 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 4.4304ms
2026-01-27 12:41:33.688 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 12:41:33.688 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:33.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:41:33.690 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 11.8587 ms
2026-01-27 12:41:33.692 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 7.8463ms
2026-01-27 12:41:33.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 18.0264ms
2026-01-27 12:41:33.694 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:33.696 +03:00 [INF] HTTP GET /api/Cases responded 200 in 15.9808 ms
2026-01-27 12:41:33.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 19.8573ms
2026-01-27 12:41:42.708 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:41:42.714 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:42.715 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.0862 ms
2026-01-27 12:41:42.717 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 8.665ms
2026-01-27 12:41:42.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:41:42.722 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:41:42.724 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:42.726 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:41:42.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:42.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:41:42.737 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:41:42.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:41:42.742 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:41:42.746 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:42.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:42.749 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:42.751 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:41:42.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:41:42.755 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:41:42.758 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:42.760 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:42.761 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:42.763 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:42.764 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:42.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:42.767 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:42.769 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:42.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:41:42.772 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:41:42.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:41:42.775 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:41:42.776 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:41:42.777 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 49.7878ms
2026-01-27 12:41:42.778 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:41:42.779 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 56.7463 ms
2026-01-27 12:41:42.780 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 60.415ms
2026-01-27 12:51:33.573 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:51:33.576 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:33.577 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 0.7833 ms
2026-01-27 12:51:33.579 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 5.5349ms
2026-01-27 12:51:33.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:51:33.583 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:33.585 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:33.585 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 12:51:33.623 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 12:51:33.625 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:51:33.625 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 38.7605ms
2026-01-27 12:51:33.626 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:33.627 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 43.3428 ms
2026-01-27 12:51:33.627 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 45.6883ms
2026-01-27 12:51:41.402 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 12:51:41.408 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:41.410 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.7573 ms
2026-01-27 12:51:41.412 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.5403ms
2026-01-27 12:51:41.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 12:51:41.416 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:41.417 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:41.418 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 12:51:41.430 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:51:41.434 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 12:51:41.436 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 12:51:41.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:51:41.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 12:51:41.445 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 12:51:41.449 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 12:51:41.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 12:51:41.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 12:51:41.458 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 12:51:41.467 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 12:51:41.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:51:41.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:51:41.473 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:51:41.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:51:41.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:51:41.478 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:51:41.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:51:41.481 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:51:41.482 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 12:51:41.483 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 12:51:41.487 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 12:51:41.488 +03:00 [INF] Dashboard data retrieved
2026-01-27 12:51:41.489 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 12:51:41.490 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 71.3073ms
2026-01-27 12:51:41.491 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:41.491 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 75.1416 ms
2026-01-27 12:51:41.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 77.8944ms
2026-01-27 12:51:43.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 12:51:43.904 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:43.905 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.6578 ms
2026-01-27 12:51:43.907 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 5.4557ms
2026-01-27 12:51:43.910 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 12:51:43.911 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:51:43.912 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:43.913 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 12:51:43.916 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 12:51:43.918 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:51:43.919 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.5267ms
2026-01-27 12:51:43.919 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:51:43.920 +03:00 [INF] HTTP GET /api/Employees responded 200 in 8.7640 ms
2026-01-27 12:51:43.921 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 11.0126ms
2026-01-27 12:58:32.468 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:58:32.471 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:58:32.473 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 1.9374 ms
2026-01-27 12:58:32.477 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 9.4039ms
2026-01-27 12:58:32.480 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 12:58:32.482 +03:00 [INF] CORS policy execution successful.
2026-01-27 12:58:32.483 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:58:32.484 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 12:58:32.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 12:58:32.488 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 12:58:32.489 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 4.1196ms
2026-01-27 12:58:32.490 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 12:58:32.490 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 8.7421 ms
2026-01-27 12:58:32.491 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 11.2112ms
2026-01-27 13:02:04.471 +03:00 [INF] Application is shutting down...
2026-01-27 13:02:21.972 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.026 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.033 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.034 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.036 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 13:02:22.044 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 13:02:22.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 13:02:22.078 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 13:02:22.081 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 13:02:22.087 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 13:02:22.089 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 13:02:22.132 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 13:02:22.178 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 13:02:22.179 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 13:02:22.179 +03:00 [INF] Hosting environment: Development
2026-01-27 13:02:22.180 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 13:02:47.601 +03:00 [INF] Application is shutting down...
2026-01-27 15:26:27.822 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:26:27.873 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 50 - Local Database Runtime error occurred. Error occurred during LocalDB instance startup: SQL Server process failed to start.
)
 ---> System.ComponentModel.Win32Exception (0x89C5010A): Unknown error (0x89c5010a)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1983577846,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 50 - Local Database Runtime error occurred. Error occurred during LocalDB instance startup: SQL Server process failed to start.
)
 ---> System.ComponentModel.Win32Exception (0x89C5010A): Unknown error (0x89c5010a)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1983577846,State:0,Class:20
2026-01-27 15:27:45.207 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:27:45.242 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 50 - Local Database Runtime error occurred. Error occurred during LocalDB instance startup: SQL Server process failed to start.
)
 ---> System.ComponentModel.Win32Exception (0x89C5010A): Unknown error (0x89c5010a)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1983577846,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 50 - Local Database Runtime error occurred. Error occurred during LocalDB instance startup: SQL Server process failed to start.
)
 ---> System.ComponentModel.Win32Exception (0x89C5010A): Unknown error (0x89c5010a)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1983577846,State:0,Class:20
2026-01-27 15:32:33.202 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.257 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.267 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 15:32:33.277 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 15:32:33.303 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 15:32:33.314 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 15:32:33.316 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 15:32:33.323 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 15:32:33.325 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 15:32:33.375 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 15:32:33.427 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 15:32:33.428 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 15:32:33.429 +03:00 [INF] Hosting environment: Development
2026-01-27 15:32:33.430 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 15:32:59.380 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 15:32:59.424 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:32:59.427 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 3.7970 ms
2026-01-27 15:32:59.432 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 53.2416ms
2026-01-27 15:32:59.436 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 15:32:59.441 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:32:59.504 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 15:32:59.512 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 15:32:59.591 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 15:32:59.673 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 15:32:59.784 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 512), @p5='?' (DbType = DateTime2), @p6='?' (Size = 512), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAtUtc], [ExpiresAtUtc], [IsRevoked], [ReplacedByToken], [RevokedAtUtc], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-27 15:32:59.795 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 15:32:59.807 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 291.704ms
2026-01-27 15:32:59.809 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 15:32:59.811 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 370.0501 ms
2026-01-27 15:32:59.816 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 380.2609ms
2026-01-27 15:32:59.847 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 15:32:59.852 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:32:59.855 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 3.1690 ms
2026-01-27 15:32:59.858 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 11.1255ms
2026-01-27 15:32:59.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 15:32:59.865 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:32:59.891 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:32:59.895 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 15:32:59.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:32:59.938 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 15:32:59.946 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 15:32:59.954 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:32:59.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 15:32:59.997 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 15:33:00.009 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 15:33:00.016 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 15:33:00.027 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 15:33:00.042 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 15:33:00.068 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 15:33:00.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:33:00.093 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:33:00.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:33:00.098 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:33:00.100 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:33:00.102 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:33:00.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:33:00.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:33:00.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:33:00.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:33:00.125 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 15:33:00.128 +03:00 [INF] Dashboard data retrieved
2026-01-27 15:33:00.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 15:33:00.140 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 243.664ms
2026-01-27 15:33:00.141 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:00.142 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 276.5253 ms
2026-01-27 15:33:00.143 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 282.9389ms
2026-01-27 15:33:31.092 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 15:33:31.096 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:31.096 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.6322 ms
2026-01-27 15:33:31.099 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 6.5177ms
2026-01-27 15:33:31.101 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 15:33:31.103 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:31.108 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:31.111 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 15:33:31.120 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:33:31.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:33:31.137 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 24.6137ms
2026-01-27 15:33:31.138 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:31.139 +03:00 [INF] HTTP GET /api/Employees responded 200 in 35.8616 ms
2026-01-27 15:33:31.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 38.9226ms
2026-01-27 15:33:46.417 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:33:46.419 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:33:46.421 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:46.422 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:46.423 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 2.6032 ms
2026-01-27 15:33:46.425 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 2.3122 ms
2026-01-27 15:33:46.426 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 8.7285ms
2026-01-27 15:33:46.427 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 8.4898ms
2026-01-27 15:33:46.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:33:46.430 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:33:46.432 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:46.433 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:46.435 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:46.437 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:46.438 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:33:46.440 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:33:46.445 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 15:33:46.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 15:33:46.449 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 10.144ms
2026-01-27 15:33:46.450 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:46.451 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 18.7953 ms
2026-01-27 15:33:46.452 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:33:46.454 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 25.0074ms
2026-01-27 15:33:46.466 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 15:33:46.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:33:46.474 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 33.0711ms
2026-01-27 15:33:46.476 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:46.477 +03:00 [INF] HTTP GET /api/Cases responded 200 in 43.5776 ms
2026-01-27 15:33:46.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 48.4137ms
2026-01-27 15:33:59.569 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:33:59.571 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:59.572 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 0.4355 ms
2026-01-27 15:33:59.572 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 3.3192ms
2026-01-27 15:33:59.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:33:59.577 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:33:59.579 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:59.579 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:33:59.587 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0
2026-01-27 15:33:59.596 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2026-01-27 15:33:59.597 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:33:59.598 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 17.7513ms
2026-01-27 15:33:59.599 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:33:59.600 +03:00 [INF] HTTP GET /api/Cases responded 200 in 22.6052 ms
2026-01-27 15:33:59.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 25.7876ms
2026-01-27 15:34:01.254 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&type=1&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:01.256 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:01.257 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 0.7310 ms
2026-01-27 15:34:01.257 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&type=1&page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 3.273ms
2026-01-27 15:34:01.259 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&type=1&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:01.262 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:01.263 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:01.264 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:01.273 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100), @__caseType_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0 AND [i].[CaseType] = @__caseType_1
2026-01-27 15:34:01.281 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100), @__caseType_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0 AND [i].[CaseType] = @__caseType_1
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2026-01-27 15:34:01.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:01.284 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 18.2876ms
2026-01-27 15:34:01.284 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:01.285 +03:00 [INF] HTTP GET /api/Cases responded 200 in 23.4732 ms
2026-01-27 15:34:01.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&type=1&page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 26.7596ms
2026-01-27 15:34:03.141 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&type=1&status=2&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:03.143 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:03.143 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 0.5627 ms
2026-01-27 15:34:03.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?factory=Factory%20A&type=1&status=2&page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 2.9685ms
2026-01-27 15:34:03.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&type=1&status=2&page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:03.149 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:03.151 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:03.152 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:03.162 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100), @__caseType_1='?' (DbType = Int32), @__investStatus_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0 AND [i].[CaseType] = @__caseType_1 AND [i].[Status] = @__investStatus_2
2026-01-27 15:34:03.169 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__factory_0='?' (Size = 100), @__caseType_1='?' (DbType = Int32), @__investStatus_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [t].[Factory] = @__factory_0 AND [i].[CaseType] = @__caseType_1 AND [i].[Status] = @__investStatus_2
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2026-01-27 15:34:03.171 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:03.172 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 16.3781ms
2026-01-27 15:34:03.173 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:03.173 +03:00 [INF] HTTP GET /api/Cases responded 200 in 24.5891 ms
2026-01-27 15:34:03.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?factory=Factory%20A&type=1&status=2&page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 28.5143ms
2026-01-27 15:34:10.887 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:34:10.892 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:10.888 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:10.893 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 1.2986 ms
2026-01-27 15:34:10.897 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:10.899 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 12.286ms
2026-01-27 15:34:10.901 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 3.3924 ms
2026-01-27 15:34:10.904 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:34:10.905 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 16.8803ms
2026-01-27 15:34:10.907 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:10.908 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:34:10.909 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:10.910 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:10.910 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:10.911 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:10.912 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:10.913 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 15:34:10.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 15:34:10.916 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 3.7768ms
2026-01-27 15:34:10.916 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:10.917 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 10.4207 ms
2026-01-27 15:34:10.918 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:10.918 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 14.2364ms
2026-01-27 15:34:10.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 15:34:10.922 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:10.923 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 9.9122ms
2026-01-27 15:34:10.924 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:10.924 +03:00 [INF] HTTP GET /api/Cases responded 200 in 14.4429 ms
2026-01-27 15:34:10.925 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 17.0018ms
2026-01-27 15:34:11.609 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:11.612 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:11.613 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.0867 ms
2026-01-27 15:34:11.616 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.1706ms
2026-01-27 15:34:11.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:11.621 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:11.622 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:11.624 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:11.635 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:11.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:11.667 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 41.3116ms
2026-01-27 15:34:11.668 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:11.668 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 47.4249 ms
2026-01-27 15:34:11.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 49.9289ms
2026-01-27 15:34:19.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 - null null
2026-01-27 15:34:19.643 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:19.644 +03:00 [INF] HTTP OPTIONS /api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 responded 204 in 0.6940 ms
2026-01-27 15:34:19.646 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 - 204 null null 5.7134ms
2026-01-27 15:34:19.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 - null null
2026-01-27 15:34:19.651 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:19.652 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:19.655 +03:00 [INF] Route matched with {action = "GetById", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]] GetById(System.Guid, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:19.669 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 15:34:19.678 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CaseType], [t].[ClosedAt], [t].[CreatedAt], [t].[Description], [t].[EmployeeId], [t].[IsDeleted], [t].[Outcome], [t].[Status], [t].[Title], [t].[Id0], [t].[CreatedAt0], [t].[Department], [t].[Designation], [t].[EmployeeId0], [t].[Factory], [t].[IsDeleted0], [t].[Name], [t].[Status0], [t].[UpdatedAt], [i0].[Id], [i0].[CreatedAt], [i0].[InvestigationId], [i0].[Remark], [i0].[UserId], [i1].[Id], [i1].[ContentType], [i1].[FileName], [i1].[FilePath], [i1].[FileSize], [i1].[InvestigationId], [i1].[UploadedAt]
FROM (
    SELECT TOP(1) [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id] AS [Id0], [e].[CreatedAt] AS [CreatedAt0], [e].[Department], [e].[Designation], [e].[EmployeeId] AS [EmployeeId0], [e].[Factory], [e].[IsDeleted] AS [IsDeleted0], [e].[Name], [e].[Status] AS [Status0], [e].[UpdatedAt]
    FROM [Investigations] AS [i]
    INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
    WHERE [i].[Id] = @__id_0 AND [i].[IsDeleted] = CAST(0 AS bit)
) AS [t]
LEFT JOIN [InvestigationRemarks] AS [i0] ON [t].[Id] = [i0].[InvestigationId]
LEFT JOIN [InvestigationAttachments] AS [i1] ON [t].[Id] = [i1].[InvestigationId]
ORDER BY [t].[Id], [t].[Id0], [i0].[Id]
2026-01-27 15:34:19.682 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.InvestigationDto'.
2026-01-27 15:34:19.683 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API) in 26.9009ms
2026-01-27 15:34:19.683 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetById (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:19.684 +03:00 [INF] HTTP GET /api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 responded 200 in 33.1763 ms
2026-01-27 15:34:19.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations/ae1cfe26-b08a-410d-9775-b372e7427790 - 200 null application/json; charset=utf-8 36.116ms
2026-01-27 15:34:24.168 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:24.172 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:24.173 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.0961 ms
2026-01-27 15:34:24.175 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 6.8376ms
2026-01-27 15:34:24.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:24.178 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:24.179 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:24.180 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:24.183 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:24.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:24.186 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.9901ms
2026-01-27 15:34:24.187 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:24.188 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 9.7362 ms
2026-01-27 15:34:24.189 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 12.2232ms
2026-01-27 15:34:25.869 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:34:25.871 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:25.872 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 0.5638 ms
2026-01-27 15:34:25.873 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 3.4127ms
2026-01-27 15:34:25.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:34:25.878 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:25.879 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:25.882 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:25.892 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 15:34:25.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:25.899 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 14.9102ms
2026-01-27 15:34:25.899 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:25.900 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 22.3596 ms
2026-01-27 15:34:25.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 25.6004ms
2026-01-27 15:34:30.727 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:30.730 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:30.731 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.0243 ms
2026-01-27 15:34:30.734 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.7403ms
2026-01-27 15:34:30.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:34:30.739 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:30.740 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:30.741 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:30.744 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:30.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:30.747 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 4.3666ms
2026-01-27 15:34:30.747 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:30.748 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 9.0608 ms
2026-01-27 15:34:30.749 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 12.0291ms
2026-01-27 15:34:32.526 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:34:32.531 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:32.532 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 1.0854 ms
2026-01-27 15:34:32.534 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 8.6129ms
2026-01-27 15:34:32.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:34:32.540 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:32.542 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:32.543 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:32.547 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 15:34:32.548 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:34:32.549 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 3.5731ms
2026-01-27 15:34:32.549 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:32.550 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 9.7224 ms
2026-01-27 15:34:32.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 13.4966ms
2026-01-27 15:34:48.161 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 15:34:48.165 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:48.167 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.7709 ms
2026-01-27 15:34:48.170 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.2439ms
2026-01-27 15:34:48.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 15:34:48.177 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:34:48.178 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:48.179 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 15:34:48.181 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:48.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 15:34:48.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 15:34:48.188 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:34:48.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 15:34:48.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 15:34:48.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 15:34:48.195 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 15:34:48.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 15:34:48.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 15:34:48.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 15:34:48.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:34:48.203 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:34:48.204 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:34:48.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:34:48.208 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:34:48.209 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:34:48.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:34:48.212 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:34:48.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:34:48.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:34:48.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 15:34:48.218 +03:00 [INF] Dashboard data retrieved
2026-01-27 15:34:48.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 15:34:48.219 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 39.0731ms
2026-01-27 15:34:48.220 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:34:48.220 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 43.5534 ms
2026-01-27 15:34:48.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 46.6042ms
2026-01-27 15:35:20.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:35:20.470 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:35:20.472 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:20.475 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:20.475 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 3.6385 ms
2026-01-27 15:35:20.476 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 1.5676 ms
2026-01-27 15:35:20.478 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 9.6732ms
2026-01-27 15:35:20.480 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 10.3603ms
2026-01-27 15:35:20.481 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:35:20.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:35:20.485 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:20.487 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:20.488 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:20.488 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:20.489 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:20.489 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:20.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:20.492 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 15:35:20.494 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 15:35:20.494 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 15:35:20.495 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:20.496 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 4.999ms
2026-01-27 15:35:20.497 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 6.6753ms
2026-01-27 15:35:20.497 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:20.498 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:20.499 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 13.6733 ms
2026-01-27 15:35:20.499 +03:00 [INF] HTTP GET /api/Cases responded 200 in 12.6979 ms
2026-01-27 15:35:20.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 19.0444ms
2026-01-27 15:35:20.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 18.2159ms
2026-01-27 15:35:21.235 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 15:35:21.239 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:21.240 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.0668 ms
2026-01-27 15:35:21.242 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 7.0781ms
2026-01-27 15:35:21.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 15:35:21.247 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:21.249 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:21.250 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:21.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:21.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:21.256 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.493ms
2026-01-27 15:35:21.257 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:21.257 +03:00 [INF] HTTP GET /api/Employees responded 200 in 10.0386 ms
2026-01-27 15:35:21.258 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 13.2ms
2026-01-27 15:35:26.435 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:35:26.439 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:26.440 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 0.8456 ms
2026-01-27 15:35:26.442 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 6.6584ms
2026-01-27 15:35:26.445 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:35:26.447 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:26.449 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:26.450 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:26.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:26.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:26.455 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 3.823ms
2026-01-27 15:35:26.456 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:26.456 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 8.7679 ms
2026-01-27 15:35:26.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 12.4493ms
2026-01-27 15:35:27.683 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:35:27.686 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:27.687 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 0.9657 ms
2026-01-27 15:35:27.690 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 7.6525ms
2026-01-27 15:35:27.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:35:27.696 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:27.697 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:27.697 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:27.701 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 15:35:27.702 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:27.703 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 4.4249ms
2026-01-27 15:35:27.703 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:27.704 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 8.4218 ms
2026-01-27 15:35:27.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 11.9837ms
2026-01-27 15:35:30.049 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:35:30.053 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:30.055 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:30.056 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:30.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:30.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:30.065 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 6.3234ms
2026-01-27 15:35:30.066 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:30.067 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 13.9780 ms
2026-01-27 15:35:30.068 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 19.6119ms
2026-01-27 15:35:31.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:35:31.018 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:35:31.020 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.023 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.024 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 3.8986 ms
2026-01-27 15:35:31.025 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 2.1530 ms
2026-01-27 15:35:31.027 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 10.824ms
2026-01-27 15:35:31.029 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 11.1455ms
2026-01-27 15:35:31.032 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:35:31.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:35:31.036 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.037 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.038 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.038 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.038 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:31.039 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:31.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Factory]
FROM (
    SELECT DISTINCT [e].[Factory]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t]
ORDER BY [t].[Factory]
2026-01-27 15:35:31.042 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:31.042 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 15:35:31.044 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedAt], [t].[Id], [t].[Name], [t].[EmployeeId], [t].[Factory], [t].[Department], CAST([i].[CaseType] AS int), [i].[CaseType], CAST([i].[Status] AS int), [i].[Status], [i].[ClosedAt]
FROM [Investigations] AS [i]
INNER JOIN (
    SELECT [e].[Id], [e].[Department], [e].[EmployeeId], [e].[Factory], [e].[Name]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[EmployeeId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
ORDER BY [i].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-27 15:35:31.044 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 3.9123ms
2026-01-27 15:35:31.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:31.046 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.046 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 5.4552ms
2026-01-27 15:35:31.047 +03:00 [INF] HTTP GET /api/Cases/factories responded 200 in 11.4979 ms
2026-01-27 15:35:31.048 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.049 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 200 null application/json; charset=utf-8 16.7183ms
2026-01-27 15:35:31.049 +03:00 [INF] HTTP GET /api/Cases responded 200 in 12.6457 ms
2026-01-27 15:35:31.052 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 200 null application/json; charset=utf-8 17.6938ms
2026-01-27 15:35:31.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 15:35:31.361 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.362 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.9251 ms
2026-01-27 15:35:31.365 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 7.9435ms
2026-01-27 15:35:31.368 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 15:35:31.370 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.371 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.372 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:31.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:31.376 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 15:35:31.377 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 4.0348ms
2026-01-27 15:35:31.378 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.379 +03:00 [INF] HTTP GET /api/Employees responded 200 in 8.8568 ms
2026-01-27 15:35:31.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 11.5914ms
2026-01-27 15:35:31.688 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 15:35:31.692 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.693 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.6385 ms
2026-01-27 15:35:31.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 6.516ms
2026-01-27 15:35:31.698 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 15:35:31.700 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:35:31.702 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.703 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 15:35:31.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:31.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 15:35:31.708 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 15:35:31.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 15:35:31.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 15:35:31.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 15:35:31.713 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 15:35:31.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 15:35:31.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 15:35:31.717 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 15:35:31.719 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 15:35:31.721 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:35:31.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:35:31.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:35:31.725 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:35:31.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:35:31.728 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:35:31.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:35:31.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:35:31.731 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 15:35:31.733 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 15:35:31.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 15:35:31.736 +03:00 [INF] Dashboard data retrieved
2026-01-27 15:35:31.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 15:35:31.737 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 33.5116ms
2026-01-27 15:35:31.738 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 15:35:31.739 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 38.1022 ms
2026-01-27 15:35:31.740 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 41.7454ms
2026-01-27 15:58:16.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:58:16.830 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:16.831 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.2916 ms
2026-01-27 15:58:16.834 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.7971ms
2026-01-27 15:58:16.839 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:58:16.841 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:16.842 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:16.843 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:58:19.777 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:58:19.778 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:58:19.781 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:19.784 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:19.786 +03:00 [INF] HTTP OPTIONS /api/Cases responded 204 in 2.3869 ms
2026-01-27 15:58:19.785 +03:00 [INF] HTTP OPTIONS /api/Cases/factories responded 204 in 4.3319 ms
2026-01-27 15:58:19.788 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 204 null null 10.2689ms
2026-01-27 15:58:19.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Cases/factories - 204 null null 13.2283ms
2026-01-27 15:58:19.792 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - null null
2026-01-27 15:58:19.794 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Cases/factories - null null
2026-01-27 15:58:19.795 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:19.797 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:19.797 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:19.798 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:19.798 +03:00 [INF] Route matched with {action = "GetCases", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.CaseListItemDto]]] GetCases(System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32, System.String, Boolean, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:58:19.799 +03:00 [INF] Route matched with {action = "GetFactories", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetFactories(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.CasesController (EmployeeInvestigationSystem.API).
2026-01-27 15:58:25.344 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 15:58:25.347 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:25.348 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 1.0508 ms
2026-01-27 15:58:25.352 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 7.4845ms
2026-01-27 15:58:30.765 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:58:30.769 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:30.769 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 0.9151 ms
2026-01-27 15:58:30.772 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 6.2496ms
2026-01-27 15:58:30.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 15:58:30.778 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:30.780 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:30.781 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 15:58:32.332 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:58:32.332 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:58:32.332 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:58:32.332 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:58:32.339 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.339 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.339 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.339 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.343 +03:00 [ERR] Error retrieving warning letters: Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
2026-01-27 15:58:32.345 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API) in 12544.0259ms
2026-01-27 15:58:32.347 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API) in 12547.5569ms
2026-01-27 15:58:32.351 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 15507.2738ms
2026-01-27 15:58:32.352 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 15:58:32.352 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.353 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.353 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.355 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 174
   at lambda_method479(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.355 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 1572.9482ms
2026-01-27 15:58:32.355 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases(String employeeId, String factory, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, String sortBy, Boolean sortDesc, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 103
   at lambda_method487(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.355 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.362 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.362 +03:00 [ERR] HTTP GET /api/Cases/factories responded 500 in 12565.3982 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 174
   at lambda_method479(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.366 +03:00 [ERR] HTTP GET /api/Cases responded 500 in 12571.1671 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases(String employeeId, String factory, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, String sortBy, Boolean sortDesc, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 103
   at lambda_method487(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.374 +03:00 [INF] HTTP GET /api/WarningLetters responded 400 in 1596.0518 ms
2026-01-27 15:58:32.374 +03:00 [ERR] HTTP GET /api/Investigations responded 500 in 15533.1452 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.379 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 174
   at lambda_method479(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.383 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases(String employeeId, String factory, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, String sortBy, Boolean sortDesc, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 103
   at lambda_method487(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 400 null application/json; charset=utf-8 1608.1837ms
2026-01-27 15:58:32.391 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.399 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 15:58:32.401 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 15:58:32.408 +03:00 [ERR] Connection id "0HNITK0QBA0AQ", Request id "0HNITK0QBA0AQ:00000002": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetFactories(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 174
   at lambda_method479(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.409 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 15:58:32.409 +03:00 [ERR] Connection id "0HNITK0QBA0AR", Request id "0HNITK0QBA0AR:00000002": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.CasesController.GetCases(String employeeId, String factory, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, String sortBy, Boolean sortDesc, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\CasesController.cs:line 103
   at lambda_method487(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases/factories - 500 0 null 12620.9587ms
2026-01-27 15:58:32.415 +03:00 [ERR] Connection id "0HNITK0QBA0AP", Request id "0HNITK0QBA0AP:00000002": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.421 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Cases?page=1&size=20&sortBy=createdAt&sortDesc=true - 500 0 null 12629.2525ms
2026-01-27 15:58:32.430 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 500 0 null 15591.3579ms
2026-01-27 15:58:32.432 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 15:58:32.434 +03:00 [INF] CORS policy execution successful.
2026-01-27 15:58:32.434 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.435 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 15:58:32.437 +03:00 [ERR] An error occurred using the connection to database 'EmployeeInvestigationDb' on server '(localdb)\MSSQLLocalDB'.
2026-01-27 15:58:32.439 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.442 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 5.4338ms
2026-01-27 15:58:32.442 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 15:58:32.443 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.449 +03:00 [ERR] HTTP GET /api/Investigations responded 500 in 15.0635 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.455 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.461 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 15:58:32.463 +03:00 [ERR] Connection id "0HNITK0QBA0AP", Request id "0HNITK0QBA0AP:00000003": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=15482; handshake=1; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.Infrastructure.Repositories.InvestigationRepository.GetAllAsync() in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Infrastructure\Repositories\InvestigationRepository.cs:line 37
   at EmployeeInvestigationSystem.Application.Services.InvestigationService.GetAllAsync(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Application\Services\InvestigationService.cs:line 34
   at EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll(CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\InvestigationsController.cs:line 42
   at lambda_method514(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:2834be7d-dc3c-48fb-97eb-674440a0e35b
Error Number:-2,State:0,Class:11
2026-01-27 15:58:32.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 500 0 null 37.9266ms
2026-01-27 16:09:48.670 +03:00 [INF] Application is shutting down...
2026-01-27 16:10:11.635 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.694 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.696 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:10:11.710 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 16:10:11.736 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 16:10:11.749 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:10:11.751 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 16:10:11.758 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:10:11.759 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 16:10:11.807 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 16:10:11.852 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 16:10:11.852 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 16:10:11.853 +03:00 [INF] Hosting environment: Development
2026-01-27 16:10:11.853 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 16:12:46.100 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 16:12:46.130 +03:00 [INF] CORS policy execution failed.
2026-01-27 16:12:46.131 +03:00 [INF] Request origin http://localhost:58489 does not have permission to access the resource.
2026-01-27 16:12:46.133 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 3.1131 ms
2026-01-27 16:12:46.138 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 39.1255ms
2026-01-27 16:14:14.532 +03:00 [INF] Application is shutting down...
2026-01-27 16:15:16.164 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-27 16:15:16.232 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 16:15:16.256 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 16:15:16.268 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:15:16.270 +03:00 [INF] Employees already seeded, skipping.
2026-01-27 16:15:16.277 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Investigations] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:15:16.279 +03:00 [INF] Investigations already seeded, skipping.
2026-01-27 16:15:16.326 +03:00 [INF] User profile is available. Using 'C:\Users\Ajay.Kumar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 16:15:16.371 +03:00 [INF] Now listening on: http://localhost:5226
2026-01-27 16:15:16.372 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 16:15:16.373 +03:00 [INF] Hosting environment: Development
2026-01-27 16:15:16.373 +03:00 [INF] Content root path: D:\AI Projects\ER\EmployeeInvestigationSystem\API
2026-01-27 16:17:06.311 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:17:06.311 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:17:06.337 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:06.337 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:06.339 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 3.1981 ms
2026-01-27 16:17:06.339 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 3.5019 ms
2026-01-27 16:17:06.343 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 32.6257ms
2026-01-27 16:17:06.343 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 33.0793ms
2026-01-27 16:17:06.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:17:06.348 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:17:06.352 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:06.352 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:06.435 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:06.435 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:06.441 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:17:06.442 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:17:06.488 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:17:06.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:17:06.501 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:17:06.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:17:06.509 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:17:06.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:17:06.515 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:17:06.525 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:17:06.530 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 85.8724ms
2026-01-27 16:17:06.531 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:06.533 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 180.8076 ms
2026-01-27 16:17:06.533 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:17:06.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 188.2027ms
2026-01-27 16:17:06.542 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:17:06.551 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:17:06.563 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:17:06.582 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:17:06.600 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:17:06.606 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:17:06.608 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:17:06.610 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:17:06.611 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:17:06.613 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:17:06.614 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:17:06.616 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:17:06.617 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:17:06.618 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:17:06.629 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:17:06.631 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:17:06.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:17:06.640 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 197.4273ms
2026-01-27 16:17:06.641 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:06.641 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 289.1617 ms
2026-01-27 16:17:06.642 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 295.335ms
2026-01-27 16:17:56.573 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/logout - null null
2026-01-27 16:17:56.578 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:56.579 +03:00 [INF] HTTP OPTIONS /api/Auth/logout responded 204 in 1.1951 ms
2026-01-27 16:17:56.582 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/logout - 204 null null 9.4131ms
2026-01-27 16:17:56.584 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/logout - application/json 2
2026-01-27 16:17:56.587 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:17:56.592 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Logout (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:56.598 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 16:17:56.603 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2026-01-27 16:17:56.603 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Logout (EmployeeInvestigationSystem.API) in 4.4595ms
2026-01-27 16:17:56.604 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Logout (EmployeeInvestigationSystem.API)'
2026-01-27 16:17:56.605 +03:00 [INF] HTTP POST /api/Auth/logout responded 204 in 18.1429 ms
2026-01-27 16:17:56.606 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/logout - 204 null null 22.0191ms
2026-01-27 16:18:07.399 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - null null
2026-01-27 16:18:07.405 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.406 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.5220 ms
2026-01-27 16:18:07.408 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Auth/login - 204 null null 8.8952ms
2026-01-27 16:18:07.412 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5226/api/Auth/login - application/json 56
2026-01-27 16:18:07.414 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.415 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.418 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto]] Login(EmployeeInvestigationSystem.Application.DTOs.Auth.LoginRequestDto, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AuthController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:07.442 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-27 16:18:07.517 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-27 16:18:07.600 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 512), @p5='?' (DbType = DateTime2), @p6='?' (Size = 512), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAtUtc], [ExpiresAtUtc], [IsRevoked], [ReplacedByToken], [RevokedAtUtc], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-27 16:18:07.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.Auth.AuthResponseDto'.
2026-01-27 16:18:07.609 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API) in 189.411ms
2026-01-27 16:18:07.610 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AuthController.Login (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.611 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 197.2885 ms
2026-01-27 16:18:07.612 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5226/api/Auth/login - 200 null application/json; charset=utf-8 200.0994ms
2026-01-27 16:18:07.645 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:18:07.648 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.649 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:18:07.650 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.6706 ms
2026-01-27 16:18:07.654 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.655 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 10.1714ms
2026-01-27 16:18:07.656 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.9848 ms
2026-01-27 16:18:07.659 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:18:07.660 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 10.894ms
2026-01-27 16:18:07.662 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.663 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:18:07.666 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.666 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:07.667 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:07.668 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.670 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:07.671 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:18:07.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:18:07.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:07.676 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:18:07.677 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:18:07.679 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 7.377ms
2026-01-27 16:18:07.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:18:07.679 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:18:07.681 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 15.0555 ms
2026-01-27 16:18:07.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:07.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 20.2403ms
2026-01-27 16:18:07.686 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:07.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:07.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:07.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:18:07.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:18:07.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:07.701 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:07.703 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:07.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:07.707 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:07.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:07.711 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:07.713 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:07.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:07.718 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:07.721 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:18:07.723 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:18:07.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:18:07.725 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 55.693ms
2026-01-27 16:18:07.725 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:07.726 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 64.5735 ms
2026-01-27 16:18:07.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 68.6602ms
2026-01-27 16:18:28.581 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Qr?page=1&size=10 - null null
2026-01-27 16:18:28.583 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:28.584 +03:00 [INF] HTTP OPTIONS /api/Qr responded 204 in 0.9005 ms
2026-01-27 16:18:28.585 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Qr?page=1&size=10 - 204 null null 3.8994ms
2026-01-27 16:18:28.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Qr?page=1&size=10 - null null
2026-01-27 16:18:28.589 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:28.590 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:28.593 +03:00 [INF] Route matched with {action = "ListTokens", controller = "Qr"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListTokens(Int32, Int32, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.QrController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:28.601 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QrTokens] AS [q]
2026-01-27 16:18:28.608 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
2026-01-27 16:18:28.611 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API) in 16.3216ms
2026-01-27 16:18:28.612 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:28.613 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
2026-01-27 16:18:28.620 +03:00 [ERR] HTTP GET /api/Qr responded 500 in 31.3970 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
2026-01-27 16:18:28.627 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
2026-01-27 16:18:28.636 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 16:18:28.639 +03:00 [ERR] Connection id "0HNITKPF6E3PR", Request id "0HNITKPF6E3PR:00000009": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:d4403a56-75d2-420a-8744-8619f9fdd44a
Error Number:208,State:1,Class:16
2026-01-27 16:18:28.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Qr?page=1&size=10 - 500 0 null 59.2746ms
2026-01-27 16:18:30.997 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:18:30.998 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:18:30.999 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:31.001 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:31.002 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 2.3417 ms
2026-01-27 16:18:31.002 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.2673 ms
2026-01-27 16:18:31.004 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 7.632ms
2026-01-27 16:18:31.007 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 8.4475ms
2026-01-27 16:18:31.009 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:18:31.011 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:18:31.012 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:31.014 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:18:31.014 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:31.015 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:31.015 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:31.016 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:18:31.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:18:31.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:31.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:18:31.021 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:18:31.023 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:18:31.023 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 5.0946ms
2026-01-27 16:18:31.024 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:18:31.025 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:31.026 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:18:31.027 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 13.1690 ms
2026-01-27 16:18:31.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:31.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 17.8409ms
2026-01-27 16:18:31.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:31.034 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:31.036 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:18:31.038 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:18:31.040 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:18:31.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:31.043 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:31.044 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:31.045 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:31.047 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:31.048 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:31.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:31.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:31.053 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:18:31.054 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:18:31.056 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:18:31.057 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:18:31.057 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:18:31.058 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 41.6397ms
2026-01-27 16:18:31.059 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:18:31.059 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 47.2622 ms
2026-01-27 16:18:31.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 51.3586ms
2026-01-27 16:19:18.319 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:19:18.321 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:18.322 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.7800 ms
2026-01-27 16:19:18.324 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 5.5162ms
2026-01-27 16:19:18.325 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:19:18.327 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:19:18.331 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:18.333 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:18.333 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 2.9090 ms
2026-01-27 16:19:18.336 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:18.336 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 11.1928ms
2026-01-27 16:19:18.338 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:19:18.341 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:19:18.343 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:18.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:19:18.345 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:18.346 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:19:18.346 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:19:18.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:18.349 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:19:18.351 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:19:18.352 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:19:18.353 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 5.9264ms
2026-01-27 16:19:18.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:19:18.355 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:18.358 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 14.0308 ms
2026-01-27 16:19:18.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:18.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 18.102ms
2026-01-27 16:19:18.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:18.364 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:18.367 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:18.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:19:18.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:19:18.374 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:18.376 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:18.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:18.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:18.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:18.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:18.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:18.386 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:18.387 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:18.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:18.392 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:19:18.393 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:19:18.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:19:18.395 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 53.3223ms
2026-01-27 16:19:18.396 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:18.397 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 64.0592 ms
2026-01-27 16:19:18.398 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 71.3317ms
2026-01-27 16:19:22.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:19:22.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:19:22.294 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:22.297 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:19:22.298 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:22.298 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:22.299 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:19:22.300 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:19:22.302 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:19:22.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:22.305 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:19:22.306 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:19:22.309 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:19:22.309 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 7.124ms
2026-01-27 16:19:22.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:19:22.312 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:22.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:19:22.314 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 17.4626 ms
2026-01-27 16:19:22.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:22.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 24.7526ms
2026-01-27 16:19:22.320 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:22.326 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:22.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:19:22.332 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:19:22.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:19:22.339 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:22.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:22.347 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:22.350 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:22.353 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:22.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:22.359 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:22.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:22.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:19:22.366 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:19:22.368 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:19:22.370 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:19:22.371 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:19:22.372 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 71.5225ms
2026-01-27 16:19:22.374 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:19:22.375 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 80.5710 ms
2026-01-27 16:19:22.376 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 84.1585ms
2026-01-27 16:25:58.880 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:25:58.881 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:25:58.885 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:25:58.892 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 6.6520 ms
2026-01-27 16:25:58.890 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:25:58.897 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 17.1309ms
2026-01-27 16:25:58.897 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 7.2495 ms
2026-01-27 16:25:58.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:25:58.903 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 21.7557ms
2026-01-27 16:25:58.908 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:25:58.910 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:25:58.912 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:25:58.913 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:25:58.917 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:25:58.925 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:25:58.927 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:25:58.988 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:25:58.991 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:25:58.995 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:25:58.997 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 65.5189ms
2026-01-27 16:25:58.998 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:25:58.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:25:58.999 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 86.5782 ms
2026-01-27 16:25:59.004 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 93.7754ms
2026-01-27 16:25:59.006 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:25:59.012 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:25:59.018 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:25:59.025 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:25:59.031 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:25:59.036 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:25:59.041 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:25:59.047 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:25:59.059 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:25:59.068 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:25:59.076 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:25:59.079 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:25:59.081 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:25:59.083 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:25:59.089 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:25:59.091 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:25:59.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:25:59.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:25:59.099 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:25:59.104 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:25:59.105 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:25:59.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:25:59.107 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 181.0954ms
2026-01-27 16:25:59.108 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:25:59.109 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 200.8468 ms
2026-01-27 16:25:59.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 208.0484ms
2026-01-27 16:26:09.016 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:26:09.018 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:26:09.019 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 0.8254 ms
2026-01-27 16:26:09.020 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.4418ms
2026-01-27 16:26:09.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:26:09.023 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:26:09.025 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:26:09.026 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:26:09.028 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.3569 ms
2026-01-27 16:26:09.028 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:26:09.030 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 7.2306ms
2026-01-27 16:26:09.031 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:26:09.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:26:09.038 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:26:09.039 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:26:09.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:26:09.042 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:26:09.043 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:26:09.044 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:26:09.045 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:26:09.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:26:09.049 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:26:09.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:26:09.052 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:26:09.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:26:09.055 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 8.0421ms
2026-01-27 16:26:09.057 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:26:09.057 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:26:09.059 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:26:09.059 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 20.3912 ms
2026-01-27 16:26:09.061 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:26:09.062 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 26.7267ms
2026-01-27 16:26:09.064 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:26:09.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:26:09.069 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:26:09.070 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:26:09.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:26:09.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:26:09.076 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:26:09.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:26:09.080 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:26:09.082 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:26:09.085 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:26:09.087 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:26:09.089 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:26:09.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:26:09.090 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 53.8312ms
2026-01-27 16:26:09.091 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:26:09.092 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 66.9488 ms
2026-01-27 16:26:09.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 71.8623ms
2026-01-27 16:28:19.256 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:28:19.256 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:28:19.258 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:28:19.259 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:28:19.259 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 1.6324 ms
2026-01-27 16:28:19.260 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 0.7411 ms
2026-01-27 16:28:19.261 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 4.6099ms
2026-01-27 16:28:19.262 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 5.6536ms
2026-01-27 16:28:19.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:28:19.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:28:19.269 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:28:19.271 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:28:19.272 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:28:19.273 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:28:19.274 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:28:19.276 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:28:19.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:28:19.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:28:19.281 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:28:19.284 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:28:19.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:28:19.286 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 6.7555ms
2026-01-27 16:28:19.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:28:19.288 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:28:19.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:28:19.290 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 19.5287 ms
2026-01-27 16:28:19.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:28:19.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 27.1068ms
2026-01-27 16:28:19.296 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:28:19.299 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:28:19.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:28:19.303 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:28:19.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:28:19.309 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:28:19.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:28:19.314 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:28:19.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:28:19.318 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:28:19.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:28:19.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:28:19.326 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:28:19.328 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:28:19.331 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:28:19.333 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:28:19.335 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:28:19.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:28:19.337 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 59.0165ms
2026-01-27 16:28:19.338 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:28:19.338 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 69.5979 ms
2026-01-27 16:28:19.340 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 75.5621ms
2026-01-27 16:30:18.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:30:18.542 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:30:18.542 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:30:18.545 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:30:18.545 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 3.2225 ms
2026-01-27 16:30:18.546 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.4530 ms
2026-01-27 16:30:18.548 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 10.5039ms
2026-01-27 16:30:18.549 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 7.1257ms
2026-01-27 16:30:18.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:30:18.555 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:30:18.557 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:30:18.559 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:30:18.560 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:30:18.560 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:30:18.561 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:30:18.562 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:30:18.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:30:18.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:30:18.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:30:18.570 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:30:18.572 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:30:18.574 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 10.9242ms
2026-01-27 16:30:18.577 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:30:18.577 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:30:18.578 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 19.5843 ms
2026-01-27 16:30:18.581 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 26.5858ms
2026-01-27 16:30:18.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:30:18.587 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:30:18.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:30:18.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:30:18.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:30:18.598 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:30:18.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:30:18.607 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:30:18.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:30:18.612 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:30:18.614 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:30:18.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:30:18.619 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:30:18.621 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:30:18.622 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:30:18.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:30:18.629 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:30:18.633 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:30:18.635 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:30:18.636 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:30:18.637 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 73.2605ms
2026-01-27 16:30:18.638 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:30:18.639 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 82.6454 ms
2026-01-27 16:30:18.641 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 88.66ms
2026-01-27 16:33:44.751 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - null null
2026-01-27 16:33:44.754 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:44.755 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 0.9953 ms
2026-01-27 16:33:44.759 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Employees - 204 null null 7.0781ms
2026-01-27 16:33:44.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Employees - null null
2026-01-27 16:33:44.764 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:44.765 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:44.769 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto]]] GetAll(System.String, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.EmployeesController (EmployeeInvestigationSystem.API).
2026-01-27 16:33:44.788 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:33:44.798 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.EmployeeDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 16:33:44.805 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API) in 35.1956ms
2026-01-27 16:33:44.806 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.EmployeesController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:44.807 +03:00 [INF] HTTP GET /api/Employees responded 200 in 43.2075 ms
2026-01-27 16:33:44.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Employees - 200 null application/json; charset=utf-8 45.7151ms
2026-01-27 16:33:47.912 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:33:47.913 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:33:47.915 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:47.918 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:47.919 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 3.9328 ms
2026-01-27 16:33:47.920 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.6819 ms
2026-01-27 16:33:47.921 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 9.4085ms
2026-01-27 16:33:47.923 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 10.1449ms
2026-01-27 16:33:47.926 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:33:47.928 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:33:47.929 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:47.930 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:33:47.931 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:47.931 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:47.932 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:33:47.933 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:33:47.935 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:33:47.935 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:33:47.937 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:33:47.938 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:33:47.939 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 5.1703ms
2026-01-27 16:33:47.940 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:33:47.940 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:47.942 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:33:47.942 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 11.7219 ms
2026-01-27 16:33:47.943 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:33:47.944 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 16.4282ms
2026-01-27 16:33:47.945 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:33:47.948 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:33:47.949 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:33:47.951 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:33:47.952 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:33:47.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:33:47.957 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:33:47.958 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:33:47.959 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:33:47.960 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:33:47.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:33:47.963 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:33:47.964 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:33:47.965 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:33:47.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:33:47.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:33:47.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:33:47.971 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:33:47.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:33:47.972 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 37.5769ms
2026-01-27 16:33:47.973 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:33:47.973 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 44.3171 ms
2026-01-27 16:33:47.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 48.6904ms
2026-01-27 16:36:00.485 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - null null
2026-01-27 16:36:00.486 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:36:00.487 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:36:00.489 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:36:00.490 +03:00 [INF] HTTP OPTIONS /api/Dashboard responded 204 in 2.4817 ms
2026-01-27 16:36:00.490 +03:00 [INF] HTTP OPTIONS /api/Analytics/violations responded 204 in 1.2268 ms
2026-01-27 16:36:00.492 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Dashboard - 204 null null 7.1118ms
2026-01-27 16:36:00.493 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Analytics/violations?groupBy=factory - 204 null null 6.9423ms
2026-01-27 16:36:00.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - null null
2026-01-27 16:36:00.496 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Dashboard - null null
2026-01-27 16:36:00.498 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:36:00.499 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:36:00.500 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:36:00.500 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:36:00.501 +03:00 [INF] Route matched with {action = "GetViolations", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolations(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.AnalyticsController (EmployeeInvestigationSystem.API).
2026-01-27 16:36:00.501 +03:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller EmployeeInvestigationSystem.API.Controllers.DashboardController (EmployeeInvestigationSystem.API).
2026-01-27 16:36:00.504 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:36:00.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__fromDate_0='?' (DbType = DateTime2), @__toDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([e].[Factory], N'Unknown') AS [Label], COUNT(*) AS [Value], 0.0 AS [Percentage]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__fromDate_0 AND [i].[CreatedAt] <= @__toDate_1
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:36:00.506 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Status] <> 3
2026-01-27 16:36:00.507 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.ChartDataDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 16:36:00.509 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
2026-01-27 16:36:00.509 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API) in 6.9492ms
2026-01-27 16:36:00.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:36:00.510 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.AnalyticsController.GetViolations (EmployeeInvestigationSystem.API)'
2026-01-27 16:36:00.512 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thirtyDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [i].[EmployeeId]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__thirtyDaysAgo_0
) AS [t]
2026-01-27 16:36:00.513 +03:00 [INF] HTTP GET /api/Analytics/violations responded 200 in 14.7931 ms
2026-01-27 16:36:00.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Factory], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Factory]
ORDER BY COUNT(*) DESC
2026-01-27 16:36:00.515 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Analytics/violations?groupBy=factory - 200 null application/json; charset=utf-8 20.1816ms
2026-01-27 16:36:00.516 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Department], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [e].[Department]
ORDER BY COUNT(*) DESC
2026-01-27 16:36:00.518 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[CaseType] AS [Type], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
GROUP BY [i].[CaseType]
ORDER BY COUNT(*) DESC
2026-01-27 16:36:00.520 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Outcome], COUNT(*) AS [Count]
FROM [Investigations] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Outcome] IS NOT NULL
GROUP BY [i].[Outcome]
ORDER BY COUNT(*) DESC
2026-01-27 16:36:00.522 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__twelveMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], COUNT(*) AS [Count]
FROM (
    SELECT DATEPART(year, [i].[CreatedAt]) AS [Year], DATEPART(month, [i].[CreatedAt]) AS [Month]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[CreatedAt] >= @__twelveMonthsAgo_0
) AS [t]
GROUP BY [t].[Year], [t].[Month]
ORDER BY [t].[Year], [t].[Month]
2026-01-27 16:36:00.524 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EmployeeId], [t].[c], [t0].[Id], [t0].[CreatedAt], [t0].[Department], [t0].[Designation], [t0].[EmployeeId], [t0].[Factory], [t0].[IsDeleted], [t0].[Name], [t0].[Status], [t0].[UpdatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[EmployeeId], COUNT(*) AS [c]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [i].[EmployeeId]
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CreatedAt], [t1].[Department], [t1].[Designation], [t1].[EmployeeId], [t1].[Factory], [t1].[IsDeleted], [t1].[Name], [t1].[Status], [t1].[UpdatedAt], [t1].[EmployeeId0]
    FROM (
        SELECT [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt], [i0].[EmployeeId] AS [EmployeeId0], ROW_NUMBER() OVER(PARTITION BY [i0].[EmployeeId] ORDER BY [i0].[Id], [e].[Id]) AS [row]
        FROM [Investigations] AS [i0]
        INNER JOIN [Employees] AS [e] ON [i0].[EmployeeId] = [e].[Id]
        WHERE [i0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[EmployeeId] = [t0].[EmployeeId0]
ORDER BY [t].[c] DESC
2026-01-27 16:36:00.525 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:36:00.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:36:00.528 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:36:00.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:36:00.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:36:00.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:36:00.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:36:00.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:36:00.536 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0
2026-01-27 16:36:00.538 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__item_EmployeeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [WarningLetters] AS [w]
WHERE [w].[EmployeeId] = @__item_EmployeeId_0 AND [w].[Outcome] = 3
2026-01-27 16:36:00.540 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [e].[Name], [t].[CaseType], [t].[Status], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [i].[Id], [i].[CaseType], [i].[CreatedAt], [i].[EmployeeId], [i].[Status], [i].[Title]
    FROM [Investigations] AS [i]
    WHERE [i].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [i].[CreatedAt] DESC
) AS [t]
INNER JOIN [Employees] AS [e] ON [t].[EmployeeId] = [e].[Id]
ORDER BY [t].[CreatedAt] DESC
2026-01-27 16:36:00.541 +03:00 [INF] Dashboard data retrieved
2026-01-27 16:36:00.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeInvestigationSystem.Application.DTOs.DashboardDto'.
2026-01-27 16:36:00.542 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API) in 38.8545ms
2026-01-27 16:36:00.543 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.DashboardController.GetDashboard (EmployeeInvestigationSystem.API)'
2026-01-27 16:36:00.543 +03:00 [INF] HTTP GET /api/Dashboard responded 200 in 44.4100 ms
2026-01-27 16:36:00.544 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Dashboard - 200 null application/json; charset=utf-8 48.2763ms
2026-01-27 16:37:38.057 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Leaves?page=1&size=10 - null null
2026-01-27 16:37:38.074 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:38.077 +03:00 [INF] HTTP OPTIONS /api/Leaves responded 204 in 3.0790 ms
2026-01-27 16:37:38.083 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Leaves?page=1&size=10 - 204 null null 25.5829ms
2026-01-27 16:37:38.095 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Leaves?page=1&size=10 - null null
2026-01-27 16:37:38.100 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:38.103 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:38.112 +03:00 [INF] Route matched with {action = "GetLeaves", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmployeeInvestigationSystem.Application.DTOs.PagedResponse`1[EmployeeInvestigationSystem.Application.DTOs.LeaveRequestDto]]] GetLeaves(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.DateOnly], System.Nullable`1[System.DateOnly], Int32, Int32, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.LeavesController (EmployeeInvestigationSystem.API).
2026-01-27 16:37:38.131 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [LeaveRequests] AS [l]
2026-01-27 16:37:38.138 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:38.151 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves (EmployeeInvestigationSystem.API) in 35.3891ms
2026-01-27 16:37:38.154 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:38.157 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves(String employeeId, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\LeavesController.cs:line 139
   at lambda_method507(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:38.187 +03:00 [ERR] HTTP GET /api/Leaves responded 500 in 86.6173 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves(String employeeId, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\LeavesController.cs:line 139
   at lambda_method507(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:38.217 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves(String employeeId, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\LeavesController.cs:line 139
   at lambda_method507(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:38.244 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 16:37:38.251 +03:00 [ERR] Connection id "0HNITKPF6E3Q3", Request id "0HNITKPF6E3Q3:00000004": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LeaveRequests'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.LeavesController.GetLeaves(String employeeId, Nullable`1 type, Nullable`1 status, Nullable`1 from, Nullable`1 to, Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\LeavesController.cs:line 139
   at lambda_method507(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:38.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Leaves?page=1&size=10 - 500 0 null 181.6795ms
2026-01-27 16:37:42.605 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Qr?page=1&size=10 - null null
2026-01-27 16:37:42.611 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:42.614 +03:00 [INF] HTTP OPTIONS /api/Qr responded 204 in 2.5812 ms
2026-01-27 16:37:42.618 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Qr?page=1&size=10 - 204 null null 12.9959ms
2026-01-27 16:37:42.625 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Qr?page=1&size=10 - null null
2026-01-27 16:37:42.631 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:42.638 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:42.644 +03:00 [INF] Route matched with {action = "ListTokens", controller = "Qr"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListTokens(Int32, Int32, System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.QrController (EmployeeInvestigationSystem.API).
2026-01-27 16:37:42.658 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QrTokens] AS [q]
2026-01-27 16:37:42.672 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeInvestigationSystem.Infrastructure.DbContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:42.692 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API) in 39.1357ms
2026-01-27 16:37:42.700 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:42.706 +03:00 [ERR] Error in audit logging middleware
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:42.748 +03:00 [ERR] HTTP GET /api/Qr responded 500 in 117.2744 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:42.781 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:42.808 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-27 16:37:42.816 +03:00 [ERR] Connection id "0HNITKPF6E3Q3", Request id "0HNITKPF6E3Q3:00000006": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'QrTokens'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EmployeeInvestigationSystem.API.Controllers.QrController.ListTokens(Int32 page, Int32 size, CancellationToken cancellationToken) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Controllers\QrController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 52
   at EmployeeInvestigationSystem.API.Middleware.AuditLoggingMiddleware.InvokeAsync(HttpContext context, IAuditLogService auditLogService) in D:\AI Projects\ER\EmployeeInvestigationSystem\API\Middleware\AuditLoggingMiddleware.cs:line 73
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:f6f1af9e-d5d0-4d3e-8cd5-64a7a29d28ac
Error Number:208,State:1,Class:16
2026-01-27 16:37:42.847 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Qr?page=1&size=10 - 500 0 null 221.4733ms
2026-01-27 16:37:44.001 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - null null
2026-01-27 16:37:44.008 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:44.010 +03:00 [INF] HTTP OPTIONS /api/WarningLetters responded 204 in 2.2848 ms
2026-01-27 16:37:44.016 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/WarningLetters - 204 null null 15.1916ms
2026-01-27 16:37:44.027 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/WarningLetters - null null
2026-01-27 16:37:44.040 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:44.045 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:44.055 +03:00 [INF] Route matched with {action = "GetAll", controller = "WarningLetters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.WarningLettersController (EmployeeInvestigationSystem.API).
2026-01-27 16:37:44.095 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[EmployeeId], [w].[HtmlContent], [w].[InvestigationId], [w].[IssuedAt], [w].[LetterContent], [w].[Outcome], [w].[PdfPath], [w].[Template], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [WarningLetters] AS [w]
INNER JOIN [Employees] AS [e] ON [w].[EmployeeId] = [e].[Id]
ORDER BY [w].[IssuedAt] DESC
2026-01-27 16:37:44.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.WarningLetterDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 16:37:44.128 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API) in 60.1952ms
2026-01-27 16:37:44.131 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.WarningLettersController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:44.135 +03:00 [INF] HTTP GET /api/WarningLetters responded 200 in 94.8979 ms
2026-01-27 16:37:44.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/WarningLetters - 200 null application/json; charset=utf-8 113.3752ms
2026-01-27 16:37:46.530 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - null null
2026-01-27 16:37:46.534 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:46.539 +03:00 [INF] HTTP OPTIONS /api/Investigations responded 204 in 5.0474 ms
2026-01-27 16:37:46.545 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5226/api/Investigations - 204 null null 15.87ms
2026-01-27 16:37:46.555 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5226/api/Investigations - null null
2026-01-27 16:37:46.565 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:37:46.572 +03:00 [INF] Executing endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:46.585 +03:00 [INF] Route matched with {action = "GetAll", controller = "Investigations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto]]] GetAll(System.Threading.CancellationToken) on controller EmployeeInvestigationSystem.API.Controllers.InvestigationsController (EmployeeInvestigationSystem.API).
2026-01-27 16:37:46.618 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CaseType], [i].[ClosedAt], [i].[CreatedAt], [i].[Description], [i].[EmployeeId], [i].[IsDeleted], [i].[Outcome], [i].[Status], [i].[Title], [e].[Id], [e].[CreatedAt], [e].[Department], [e].[Designation], [e].[EmployeeId], [e].[Factory], [e].[IsDeleted], [e].[Name], [e].[Status], [e].[UpdatedAt]
FROM [Investigations] AS [i]
INNER JOIN [Employees] AS [e] ON [i].[EmployeeId] = [e].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit)
2026-01-27 16:37:46.682 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeInvestigationSystem.Application.DTOs.InvestigationDto, EmployeeInvestigationSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 16:37:46.708 +03:00 [INF] Executed action EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API) in 111.1022ms
2026-01-27 16:37:46.711 +03:00 [INF] Executed endpoint 'EmployeeInvestigationSystem.API.Controllers.InvestigationsController.GetAll (EmployeeInvestigationSystem.API)'
2026-01-27 16:37:46.715 +03:00 [INF] HTTP GET /api/Investigations responded 200 in 149.3985 ms
2026-01-27 16:37:46.718 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5226/api/Investigations - 200 null application/json; charset=utf-8 162.5456ms
